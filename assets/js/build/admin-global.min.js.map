{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/src/admin/global.js","webpack:///./assets/js/src/admin/modules/dashboard-widgets.js","webpack:///./assets/js/src/admin/modules/dates.js","webpack:///./assets/js/src/admin/modules/post-metabox.js","webpack:///./assets/js/src/utils/api-request.js","webpack:///./assets/js/src/utils/index.js","webpack:///./assets/js/src/utils/loaders.js","webpack:///./assets/js/src/utils/ratings.js","webpack:///external \"jQuery\""],"names":["$","BDB_Dashboard_Widgets","init","BDB_Post_Metabox","jQuery","on","updatePercentage","setUnit","saveProgress","saveProgressOnEnter","finishBook","dnfBook","setRating","e","preventDefault","wrap","closest","find","slideToggle","unit","data","removeClass","addClass","hide","show","button","logID","percentage","readablePercentage","progressWrap","progressNumber","spinButton","pageField","maxPages","parseInt","currentPage","val","Math","round","percentageField","parseFloat","args","percentage_complete","apiRequest","then","apiResponse","css","text","catch","errorMessage","console","log","finally","unspinButton","slideUp","keyCode","trigger","confirm","bdbVars","confirm_finish_book","date_finished","remove","confirm_dnf_book","rating","empty","append","getStars","formatMySQL","formatDisplay","dateUTCtoLocal","utcDate","format","moment","utc","localDate","local","dateLocalToUTC","postID","userID","bookID","table","tableBody","errorWrap","searchResultsWrap","document","getElementById","getReviews","toggleSearch","searchBooks","selectBook","addReview","disassociateReview","deleteReview","rating_format","review_query","field","value","response","length","wp","template","each","key","review","error","type","which","search","searchType","author_query","operator","book_query","no_books","booksHTML","book","id","title","by","author_name","please_wait","book_id","logOptions","shapeLog","readingLog","date_started_formatted","date_started","date_finished_formatted","stars","unknown","reading_log_id","user_id","post_id","confirm_remove_review_association","confirm_delete_review","endpoint","method","options","url","api_base","beforeSend","xhr","setRequestHeader","api_nonce","xhrFields","withCredentials","Promise","resolve","reject","ajax","success","qpXHR","textStatus","errorThrown","generic_erroc","responseJSON","message","ajaxRequest","dataType","ajaxurl","newText","is_admin","prop","html","fullStars","floor","halfStars","ceil","fullStarString","halfStarString","repeat"],"mappings":"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","file":"assets/js/build/admin-global.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/src/admin/global.js\");\n","/**\n * Admin Global Scripts\n *\n * We have a separate file here because this one is loaded on non-BDB pages and we want\n * to avoid loading *all* our plugin JS on such \"public\" pages like that.\n *\n * @package book-database\n * @copyright Copyright (c) 2019, Ashley Gibson\n * @license GPL2+\n */\n\nimport { BDB_Dashboard_Widgets } from \"./modules/dashboard-widgets\";\nimport { BDB_Post_Metabox } from \"./modules/post-metabox\";\n\n( function ( $ ) {\n\n\tBDB_Dashboard_Widgets.init();\n\tBDB_Post_Metabox.init();\n\n} )( jQuery );","/* global $, bdbVars, wp */\n\nimport { apiRequest, spinButton, unspinButton, getStars } from 'utils';\n\n/**\n * Admin Dashboard Widgets\n */\nvar BDB_Dashboard_Widgets = {\n\n\t/**\n\t * Initialize\n\t */\n\tinit: function() {\n\n\t\t$( '.bdb-currently-reading-widget-update-progress' ).on( 'click', this.updatePercentage );\n\t\t$( '.bdb-currently-reading-progress-unit-choices' ).on( 'click', 'a', this.setUnit );\n\t\t$( '.bdb-currently-reading-widget-save-progress' ).on( 'click', this.saveProgress );\n\t\t$( '.bdb-currently-reading-set-progress-wrap' ).on( 'keydown', 'input', this.saveProgressOnEnter );\n\t\t$( '.bdb-currently-reading-widget-finish-book' ).on( 'click', this.finishBook );\n\t\t$( '.bdb-currently-reading-widget-dnf-book' ).on( 'click', this.dnfBook );\n\t\t$( '.bdb-currently-reading-widget-set-rating' ).on( 'click', this.setRating );\n\n\t},\n\n\t/**\n\t * Update the percentage\n\t *\n\t * @param e\n\t */\n\tupdatePercentage: function ( e ) {\n\n\t\te.preventDefault();\n\n\t\tlet wrap = $( this ).closest( 'li' );\n\n\t\twrap.find( '.bdb-currently-reading-set-progress-wrap' ).slideToggle();\n\n\t},\n\n\t/**\n\t * Set the unit to use for updating progress\n\t *\n\t * @param e\n\t */\n\tsetUnit: function ( e ) {\n\n\t\te.preventDefault();\n\n\t\tlet wrap = $( this ).closest( '.bdb-currently-reading-set-progress-wrap' ),\n\t\t\tunit = $( this ).data( 'unit' );\n\n\t\twrap.find( '.bdb-currently-reading-progress-unit-choices a' ).removeClass( 'bdb-currently-reading-progress-unit-selected' );\n\t\t$( this ).addClass( 'bdb-currently-reading-progress-unit-selected' );\n\n\t\tif ( 'page' === unit ) {\n\t\t\twrap.find( '.bdb-currently-reading-unit-percentage-wrap' ).hide();\n\t\t\twrap.find( '.bdb-currently-reading-unit-pages-wrap' ).show();\n\t\t} else {\n\t\t\twrap.find( '.bdb-currently-reading-unit-percentage-wrap' ).show();\n\t\t\twrap.find( '.bdb-currently-reading-unit-pages-wrap' ).hide();\n\t\t}\n\n\t},\n\n\t/**\n\t * Save the new progress\n\t *\n\t * @param e\n\t */\n\tsaveProgress: function ( e ) {\n\n\t\te.preventDefault();\n\n\t\tlet button = $( this ),\n\t\t\twrap = button.closest( 'li' ),\n\t\t\tlogID = wrap.data( 'log-id' ),\n\t\t\tunit = wrap.find( '.bdb-currently-reading-progress-unit-selected' ).data( 'unit' ),\n\t\t\tpercentage = 0,\n\t\t\treadablePercentage,\n\t\t\tprogressWrap = wrap.find( '.bdb-currently-reading-progress-bar' ),\n\t\t\tprogressNumber = wrap.find( '.bdb-currently-reading-progress-number' );\n\n\t\tspinButton( button );\n\n\t\t// Figure out the percentage.\n\t\tif ( 'page' === unit ) {\n\t\t\tlet pageField = wrap.find( '.bdb-currently-reading-unit-page' ),\n\t\t\t\tmaxPages = parseInt( pageField.data( 'max' ) ),\n\t\t\t\tcurrentPage = parseInt( pageField.val() );\n\n\t\t\tif ( maxPages > 0 ) {\n\t\t\t\tpercentage = currentPage / maxPages;\n\t\t\t\treadablePercentage = Math.round( percentage * 100 );\n\t\t\t}\n\t\t} else {\n\t\t\tlet percentageField = wrap.find( '.bdb-currently-reading-unit-percentage' );\n\n\t\t\treadablePercentage = parseFloat( percentageField.val() );\n\n\t\t\tif ( readablePercentage > 0 ) {\n\t\t\t\tpercentage = readablePercentage / 100;\n\t\t\t}\n\t\t}\n\n\t\tlet args = {\n\t\t\tpercentage_complete: percentage\n\t\t};\n\n\t\tapiRequest( 'v1/reading-log/update/' + logID, args, 'POST' ).then( function( apiResponse ) {\n\t\t\tprogressWrap.css( 'width', readablePercentage + '%' );\n\t\t\tprogressNumber.text( readablePercentage + '%' );\n\t\t} ).catch( function( errorMessage ) {\n\t\t\tconsole.log( errorMessage );\n\t\t} ).finally( function() {\n\t\t\tunspinButton( button );\n\t\t\twrap.find( '.bdb-currently-reading-set-progress-wrap' ).slideUp();\n\t\t} );\n\n\t},\n\n\t/**\n\t * Trigger progress saving when clicking \"enter\"\n\t *\n\t * @param e\n\t */\n\tsaveProgressOnEnter: function ( e ) {\n\n\t\tif ( 13 === e.keyCode ) {\n\t\t\te.preventDefault();\n\n\t\t\t$( this ).closest( 'li' ).find( '.bdb-currently-reading-widget-save-progress' ).trigger( 'click' );\n\t\t}\n\n\t},\n\n\t/**\n\t * Finish a book\n\t *\n\t * This sets the percentage to 100% and the finished date to today.\n\t *\n\t * @param e\n\t */\n\tfinishBook: function ( e ) {\n\n\t\te.preventDefault();\n\n\t\tif ( ! confirm( bdbVars.confirm_finish_book ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet button = $( this );\n\n\t\tspinButton( button );\n\n\t\tlet wrap = button.closest( 'li' );\n\n\t\tlet args = {\n\t\t\tpercentage_complete: 1,\n\t\t\tdate_finished: wrap.data( 'now' )\n\t\t};\n\n\t\tapiRequest( 'v1/reading-log/update/' + wrap.data( 'log-id' ), args, 'POST' ).then( function( apiResponse ) {\n\t\t\twrap.find( '.bdb-currently-reading-data' ).remove();\n\t\t\twrap.find( '.bdb-currently-reading-rate-book' ).show();\n\t\t} ).catch( function( errorMessage ) {\n\t\t\tconsole.log( errorMessage );\n\t\t} ).finally( function() {\n\t\t\tunspinButton( button );\n\t\t} );\n\n\t},\n\n\t/**\n\t * DNF book\n\t *\n\t * @param e\n\t * @returns {boolean}\n\t */\n\tdnfBook: function ( e ) {\n\n\t\te.preventDefault();\n\n\t\tif ( ! confirm( bdbVars.confirm_dnf_book ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet button = $( this );\n\n\t\tspinButton( button );\n\n\t\tlet wrap = button.closest( 'li' );\n\n\t\tlet args = {\n\t\t\tdate_finished: wrap.data( 'now' )\n\t\t};\n\n\t\tapiRequest( 'v1/reading-log/update/' + wrap.data( 'log-id' ), args, 'POST' ).then( function( apiResponse ) {\n\t\t\twrap.find( '.bdb-currently-reading-data' ).remove();\n\t\t\twrap.find( '.bdb-currently-reading-rate-book' ).show();\n\t\t} ).catch( function( errorMessage ) {\n\t\t\tconsole.log( errorMessage );\n\t\t} ).finally( function() {\n\t\t\tunspinButton( button );\n\t\t} );\n\n\t},\n\n\t/**\n\t * Set the rating\n\t *\n\t * @param e\n\t */\n\tsetRating: function ( e ) {\n\n\t\te.preventDefault();\n\n\t\tlet button = $( this );\n\n\t\tspinButton( button );\n\n\t\tlet wrap = button.closest( 'li' );\n\n\t\tlet args = {\n\t\t\trating: wrap.find( '.bdb-currently-reading-rating' ).val()\n\t\t};\n\n\t\tapiRequest( 'v1/reading-log/update/' + wrap.data( 'log-id' ), args, 'POST' ).then( function( apiResponse ) {\n\t\t\twrap.find( '.bdb-currently-reading-rate-book' ).empty().append( '<p>' + getStars( args.rating ) + '</p>' )\n\t\t} ).catch( function( errorMessage ) {\n\t\t\tconsole.log( errorMessage );\n\t\t} ).finally( function() {\n\t\t\tunspinButton( button );\n\t\t} );\n\n\t}\n\n};\n\nexport { BDB_Dashboard_Widgets }","/* global $, bdbVars, moment */\n\nconst formatMySQL = 'YYYY-MM-DD HH:mm:ss';\nconst formatDisplay = 'MMMM D, YYYY';\n\n/**\n * Converts a UTC date string to local time in YYYY-mm-dd format.\n *\n * @param {string} utcDate\n * @param {string} format\n * @returns {string}\n */\nexport function dateUTCtoLocal( utcDate, format = 'mysql' ) {\n\n\tif ( '' === utcDate || ! utcDate) {\n\t\treturn '';\n\t}\n\n\tif ( 'display' === format ) {\n\t\tformat = formatDisplay;\n\t} else {\n\t\tformat = formatMySQL;\n\t}\n\n\tutcDate = moment.utc( utcDate );\n\n\t//console.log( 'UTC Date', utcDate );\n\n\tlet localDate = utcDate.local().format( format );\n\n\t//console.log( 'Local Date', localDate );\n\n\treturn localDate;\n\n}\n\n/**\n * Converts a local date string to UTC in YYYY-mm-dd format.\n *\n * @param {string} localDate\n * @returns {string}\n */\nexport function dateLocalToUTC( localDate ) {\n\n\tif ( '' === localDate || ! localDate ) {\n\t\treturn '';\n\t}\n\n\tlocalDate = moment( localDate );\n\n\t//console.log( 'Local Date', localDate );\n\n\tlet utcDate = localDate.utc().format( formatMySQL );\n\n\t//console.log( 'UTC Date', utcDate );\n\n\treturn utcDate;\n\n}","/* global $, bdbVars, wp */\n\nimport { apiRequest, spinButton, unspinButton } from 'utils';\nimport { dateLocalToUTC, dateUTCtoLocal } from \"./dates\";\n\n/**\n * Post Metabox\n */\nvar BDB_Post_Metabox = {\n\n\tpostID: 0,\n\n\tuserID: 0,\n\n\tbookID: 0,\n\n\ttable: false,\n\n\ttableBody: false,\n\n\terrorWrap: false,\n\n\tsearchResultsWrap: false,\n\n\t/**\n\t * Initialize\n\t */\n\tinit: function() {\n\n\t\tif ( ! document.getElementById('bdb-post-reviews-table') ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.table = $( '#bdb-post-reviews-table' );\n\t\tthis.postID = this.table.data( 'post-id' );\n\t\tthis.userID = this.table.data( 'user-id' );\n\t\tthis.tableBody = this.table.find( 'tbody' );\n\t\tthis.errorWrap = $( '#bdb-post-reviews-errors' );\n\t\tthis.searchResultsWrap = $( '#bdb-book-search-results' );\n\n\t\tthis.getReviews();\n\n\t\t$( '#bdb-associated-review-post' ).on( 'click', this.toggleSearch );\n\t\t$( '#bdb-search-book-title-author' ).on( 'keypress', this.searchBooks );\n\t\t$( '#bdb-search-book-fields' ).on( 'click', 'button', this.searchBooks );\n\t\tthis.searchResultsWrap.on( 'click', 'a', this.selectBook );\n\t\t$( '#bdb-add-review' ).on( 'click', this.addReview );\n\t\t$( document ).on( 'click', '.bdb-disassociate-review-from-post', this.disassociateReview );\n\t\t$( document ).on( 'click', '.bdb-delete-review', this.deleteReview );\n\n\t},\n\n\t/**\n\t * Get the reviews associated with this post\n\t */\n\tgetReviews: function() {\n\n\t\tlet args = {\n\t\t\trating_format: 'text',\n\t\t\treview_query: [ {\n\t\t\t\tfield: 'post_id',\n\t\t\t\tvalue: BDB_Post_Metabox.postID\n\t\t\t} ]\n\t\t};\n\n\t\tapiRequest( 'v1/reviews', args, 'GET' ).then( function( response ) {\n\n\t\t\tBDB_Post_Metabox.tableBody.empty();\n\n\t\t\tif ( 0 === response.length || 'undefined' === typeof response.length ) {\n\t\t\t\tBDB_Post_Metabox.tableBody.append( wp.template( 'bdb-table-post-reviews-row-empty' ) );\n\t\t\t} else {\n\t\t\t\t$.each( response, function( key, review ) {\n\t\t\t\t\tBDB_Post_Metabox.tableBody.append( wp.template( 'bdb-table-post-reviews-row' )( review ) );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t} ).catch( function( error ) {\n\t\t\tBDB_Post_Metabox.errorWrap.empty().append( error ).show();\n\t\t} );\n\n\t},\n\n\t/**\n\t * Toggle the search fields\n\t *\n\t * @param e\n\t */\n\ttoggleSearch: function ( e ) {\n\t\te.preventDefault();\n\t\t$( '#bdb-search-book-fields' ).slideToggle();\n\t},\n\n\t/**\n\t * Search for books\n\t *\n\t * @param e\n\t */\n\tsearchBooks: function ( e ) {\n\n\t\tif ( 'click' === e.type ) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tif ( 'keypress' === e.type && 13 !== e.which ) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tlet button = $( '#bdb-search-book-fields' ).find( 'button' ),\n\t\t\tsearch = $( '#bdb-search-book-title-author' ).val(),\n\t\t\tsearchType = $( '#bdb-search-book-type' ).val(),\n\t\t\targs = {};\n\n\t\tspinButton( button );\n\n\t\tBDB_Post_Metabox.errorWrap.empty().hide();\n\t\tBDB_Post_Metabox.searchResultsWrap.empty();\n\n\t\tif ( 'author' === searchType ) {\n\t\t\targs.author_query = [ {\n\t\t\t\tfield: 'name',\n\t\t\t\tvalue: search,\n\t\t\t\toperator: 'LIKE'\n\t\t\t} ];\n\t\t} else {\n\t\t\targs.book_query = [ {\n\t\t\t\tfield: 'title',\n\t\t\t\tvalue: search,\n\t\t\t\toperator: 'LIKE'\n\t\t\t} ];\n\t\t}\n\n\t\tapiRequest( 'v1/books', args, 'GET' ).then( function( apiResponse ) {\n\n\t\t\tif ( 0 === apiResponse.length || 'undefined' === typeof apiResponse.length ) {\n\t\t\t\tBDB_Post_Metabox.searchResultsWrap.append( '<p>' + bdbVars.no_books + '</p>' );\n\t\t\t} else {\n\t\t\t\tlet booksHTML = '';\n\t\t\t\t$.each( apiResponse, function( key, book ) {\n\t\t\t\t\tbooksHTML = booksHTML + '<li><a href=\"#\" data-id=\"' + book.id + '\">' + book.title + ' ' + bdbVars.by + ' ' + book.author_name + '</a></li>';\n\t\t\t\t} );\n\t\t\t\tBDB_Post_Metabox.searchResultsWrap.append( '<ul>' + booksHTML + '</ul>' );\n\t\t\t}\n\n\t\t} ).catch( function( errorMessage ) {\n\t\t\tBDB_Post_Metabox.errorWrap.append( errorMessage ).show();\n\t\t} ).finally( function() {\n\t\t\tunspinButton( button );\n\t\t} );\n\n\t},\n\n\t/**\n\t * Select a book to review\n\t *\n\t * @param e\n\t */\n\tselectBook: function ( e ) {\n\n\t\te.preventDefault();\n\n\t\t// Set the book ID.\n\t\tBDB_Post_Metabox.bookID = $( this ).data( 'id' );\n\n\t\t// Wipe the search results.\n\t\tBDB_Post_Metabox.searchResultsWrap.empty().append( '<p>' + bdbVars.please_wait + '</p>' );\n\n\t\tlet args = {\n\t\t\tbook_id: $( this ).data( 'id' )\n\t\t};\n\n\t\t// Get reading logs.\n\t\tapiRequest( 'v1/reading-log', args, 'GET' ).then( function( apiResponse ) {\n\n\t\t\tlet logOptions = $( '#bdb-review-reading-log' );\n\n\t\t\tif ( apiResponse.length > 0 ) {\n\t\t\t\t$.each( apiResponse, function( key, log ) {\n\t\t\t\t\tlogOptions.append( '<option value=\"' + log.id + '\">' + BDB_Post_Metabox.shapeLog( log ) + '</option>' );\n\t\t\t\t} )\n\t\t\t}\n\n\t\t\t// Wipe the search results again.\n\t\t\tBDB_Post_Metabox.searchResultsWrap.empty();\n\n\t\t\t// Show the log selection.\n\t\t\t$( '#bdb-add-review-fields' ).show();\n\n\t\t} ).catch( function( errorMessage ) {\n\t\t\tBDB_Post_Metabox.errorWrap.append( errorMessage ).show();\n\t\t} );\n\n\t},\n\n\t/**\n\t * Shape the reading log entry for display in an `<option>`\n\t *\n\t * @param {object} readingLog\n\t * @returns {string}\n\t */\n\tshapeLog: function ( readingLog ) {\n\n\t\treadingLog.date_started_formatted  = dateUTCtoLocal( readingLog.date_started, 'display' );\n\t\treadingLog.date_finished_formatted = dateUTCtoLocal( readingLog.date_finished, 'display' );\n\t\treadingLog.rating                  = null === readingLog.rating ? null : parseFloat( readingLog.rating ) + ' ' + bdbVars.stars;\n\n\t\tif ( ! readingLog.date_started_formatted ) {\n\t\t\treadingLog.date_started_formatted = '(' + bdbVars.unknown + ')';\n\t\t}\n\t\tif ( ! readingLog.date_finished_formatted ) {\n\t\t\treadingLog.date_finished_formatted = '(' + bdbVars.unknown + ')';\n\t\t}\n\n\t\treturn readingLog.date_started_formatted + ' - ' + readingLog.date_finished_formatted + ' (' + readingLog.rating + ')';\n\n\t},\n\n\t/**\n\t * Add a new review\n\t *\n\t * @param e\n\t */\n\taddReview: function ( e ) {\n\n\t\te.preventDefault();\n\n\t\tlet button = $( this );\n\n\t\tspinButton( button );\n\n\t\tlet args = {\n\t\t\tbook_id: BDB_Post_Metabox.bookID,\n\t\t\treading_log_id: $( '#bdb-review-reading-log' ).val(),\n\t\t\tuser_id: BDB_Post_Metabox.userID,\n\t\t\tpost_id: BDB_Post_Metabox.postID\n\t\t};\n\n\t\tapiRequest( 'v1/review/add', args, 'POST' ).then( function( apiResponse ) {\n\n\t\t\tlet args = {\n\t\t\t\trating_format: 'text',\n\t\t\t\treview_query: [ {\n\t\t\t\t\tfield: 'id',\n\t\t\t\t\tvalue: apiResponse.id\n\t\t\t\t} ]\n\t\t\t};\n\n\t\t\treturn apiRequest( 'v1/reviews', args, 'GET' );\n\n\t\t} ).then( function( apiResponse ) {\n\n\t\t\t// Add the review(s) to the table.\n\t\t\t$.each( apiResponse, function( key, review ) {\n\t\t\t\t$( '#bdb-no-post-reviews' ).remove();\n\t\t\t\tBDB_Post_Metabox.tableBody.append( wp.template( 'bdb-table-post-reviews-row' )( review ) );\n\t\t\t} );\n\n\t\t\t// Hide the log selection.\n\t\t\t$( '#bdb-add-review-fields' ).hide();\n\n\t\t} ).catch( function( errorMessage ) {\n\t\t\tBDB_Post_Metabox.errorWrap.append( errorMessage ).show();\n\t\t} ).finally( function() {\n\t\t\tunspinButton( button );\n\t\t} );\n\n\t},\n\n\t/**\n\t * Disassociate a review from this post\n\t *\n\t * @param e\n\t * @returns {boolean}\n\t */\n\tdisassociateReview: function ( e ) {\n\n\t\te.preventDefault();\n\n\t\tif ( ! confirm( bdbVars.confirm_remove_review_association ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet button = $( this );\n\n\t\tspinButton( button );\n\n\t\tBDB_Post_Metabox.errorWrap.empty().hide();\n\n\t\tlet wrap = button.closest( 'tr' );\n\n\t\tlet args = {\n\t\t\tpost_id: null\n\t\t};\n\n\t\tapiRequest( 'v1/review/update/' + wrap.data( 'id' ), args, 'POST' ).then( function( apiResponse ) {\n\t\t\twrap.remove();\n\t\t} ).catch( function( errorMessage ) {\n\t\t\tBDB_Post_Metabox.errorWrap.append( errorMessage ).show();\n\t\t} ).finally( function() {\n\t\t\tunspinButton( button );\n\t\t} );\n\n\t},\n\n\t/**\n\t * Delete a review\n\t *\n\t * @param e\n\t * @returns {boolean}\n\t */\n\tdeleteReview: function ( e ) {\n\n\t\te.preventDefault();\n\n\t\tif ( ! confirm( bdbVars.confirm_delete_review ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet button = $( this );\n\n\t\tspinButton( button );\n\n\t\tBDB_Post_Metabox.errorWrap.empty().hide();\n\n\t\tlet wrap = button.closest( 'tr' );\n\n\t\tlet args = {\n\t\t\tpost_id: null\n\t\t};\n\n\t\tapiRequest( 'v1/review/delete/' + wrap.data( 'id' ), args, 'DELETE' ).then( function( apiResponse ) {\n\t\t\twrap.remove();\n\t\t} ).catch( function( errorMessage ) {\n\t\t\tBDB_Post_Metabox.errorWrap.append( errorMessage ).show();\n\t\t} ).finally( function() {\n\t\t\tunspinButton( button );\n\t\t} );\n\n\t}\n\n};\n\nexport { BDB_Post_Metabox }","/* global $, bdbVars, ajaxurl */\n\n/**\n * Make a request to the REST API\n *\n * @param {string} endpoint\n * @param {object} data\n * @param {string} method\n * @returns {Promise}\n */\nexport function apiRequest( endpoint, data = {}, method = 'POST' ) {\n\tconst options = {\n\t\tmethod: method,\n\t\turl: bdbVars.api_base + 'book-database/' + endpoint,\n\t\tbeforeSend: function ( xhr ) {\n\t\t\txhr.setRequestHeader( 'X-WP-Nonce', bdbVars.api_nonce );\n\t\t},\n\t\txhrFields: {\n\t\t\twithCredentials: true,\n\t\t},\n\t\tdata: data\n\t};\n\n\t//console.log( 'API endpoint', endpoint );\n\n\treturn new Promise( function ( resolve, reject ) {\n\t\t$.ajax( options ).success( function ( response ) {\n\t\t\t//console.log( 'Success response', response );\n\t\t\tresolve( response );\n\t\t} ).error( function ( qpXHR, textStatus, errorThrown ) {\n\t\t\tlet error = bdbVars.generic_erroc;\n\n\t\t\tif ( 'undefined' !== typeof qpXHR.responseJSON ) {\n\t\t\t\terror = qpXHR.responseJSON;\n\n\t\t\t\tif ( 'undefined' !== typeof error.message ) {\n\t\t\t\t\terror = error.message;\n\t\t\t\t}\n\t\t\t} else if ( 'undefined' !== typeof qpXHR.message ) {\n\t\t\t\terror = qpXHR.message;\n\t\t\t}\n\n\t\t\treject( error );\n\t\t} );\n\t} );\n}\n\n/**\n * Make an ajax request\n *\n * @param {object} args\n * @returns {Promise}\n */\nexport function ajaxRequest( args ) {\n\n\tconst options = {\n\t\tmethod: 'POST',\n\t\tdataType: 'JSON',\n\t\turl: ajaxurl,\n\t\tdata: args\n\t};\n\n\treturn new Promise( function ( resolve, reject ) {\n\t\t$.ajax( options ).success( function ( response ) {\n\t\t\tif ( ! response.success ) {\n\t\t\t\t//console.log( 'Error response', response );\n\t\t\t\treject( response.data );\n\t\t\t} else {\n\t\t\t\t//console.log( 'Success response', response );\n\t\t\t\tresolve( response.data );\n\t\t\t}\n\t\t} ).error( function ( qpXHR, textStatus, errorThrown ) {\n\t\t\tlet error = bdbVars.generic_erroc;\n\n\t\t\tif ( 'undefined' !== typeof qpXHR.responseJSON ) {\n\t\t\t\terror = qpXHR.responseJSON;\n\n\t\t\t\tif ( 'undefined' !== typeof error.message ) {\n\t\t\t\t\terror = error.message;\n\t\t\t\t}\n\t\t\t} else if ( 'undefined' !== typeof qpXHR.message ) {\n\t\t\t\terror = qpXHR.message;\n\t\t\t}\n\n\t\t\treject( error );\n\t\t} );\n\t} );\n\n}","export * from './api-request.js';\nexport * from './loaders.js';\nexport * from './ratings.js';","/* global $, bdbVars */\n\n/**\n * Spin a button\n *\n *      - Disables the button\n *      - Saves the current button text to `data-text`\n *      - Changes the text to either a WP-Admin spinner or \"Please Wait...\"\n *\n * @param button\n */\nexport function spinButton( button ) {\n\n\tlet newText = bdbVars.is_admin ? '<span class=\"spinner is-active\"></span>' : bdbVars.please_wait;\n\n\tbutton.prop( 'disabled', true ).data( 'text', button.text() ).html( newText );\n\n}\n\n/**\n * Unspin a button\n *\n *      - Enables teh button\n *      - Sets the text to the `data-text` attribute value\n *\n * @param button\n */\nexport function unspinButton( button ) {\n\tbutton.prop( 'disabled', false ).text( button.data( 'text' ) );\n}","/* global $, bdbVars */\n\n/**\n * Convert a numberical star rating into HTML stars\n *\n * @param rating\n * @returns {string}\n */\nexport function getStars( rating ) {\n\n\tlet html = '';\n\tlet fullStars = Math.floor( rating );\n\tlet halfStars = Math.ceil( rating - fullStars );\n\tlet fullStarString = '&starf;';\n\tlet halfStarString = '&half;';\n\n\thtml += fullStarString.repeat( fullStars );\n\thtml += halfStarString.repeat( halfStars );\n\n\treturn html;\n\n}","module.exports = jQuery;"],"sourceRoot":""}