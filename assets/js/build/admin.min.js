!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=129)}({113:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var a={init:function(){e(".bdb-book-option-toggle").on("click",this.toggleBookTextarea),e("#bdb-book-layout-cover-changer").on("change",this.changeCoverAlignment),this.sort()},toggleBookTextarea:function(t){e(this).next().slideToggle()},changeCoverAlignment:function(t){e("#bdb-book-option-cover").removeClass((function(e,t){return(t.match(/(^|\s)bdb-book-cover-align-\S+/g)||[]).join(" ")})).addClass("bdb-book-cover-align-"+e(this).val())},sort:function(){e(".bdb-sortable").sortable({cancel:".bdb-no-sort, textarea, input, select",connectWith:".bdb-sortable",placeholder:"bdb-sortable-placeholder",update:function(t,n){var a=n.item.parent().attr("id"),i=n.item.find(".bdb-book-option-disabled");e("#"+a).hasClass("bdb-sorter-enabled-column")?i.val("false"):i.val("true")}})}}}).call(this,n(30))},114:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(15),i={bookTitleField:!1,indexTitleSelect:!1,indexTitleCustomField:!1,init:function(){this.bookTitleField=e("#bdb-book-title"),this.indexTitleSelect=e("#bdb-book-index-title"),this.indexTitleCustomField=e("#bdb-book-index-title-custom"),this.indexTitleSelect.on("change",this.toggleCustomIndexTitle).trigger("change"),this.bookTitleField.on("keyup",this.writeOriginalTitle),this.bookTitleField.on("blur",this.populateIndexTitles)},toggleCustomIndexTitle:function(){"custom"===e(this).val()?i.indexTitleCustomField.slideDown().css("display","block"):i.indexTitleCustomField.slideUp()},writeOriginalTitle:function(){i.indexTitleSelect.find('option[value="original"]').text(e(this).val())},populateIndexTitles:function(){var t={title:e(this).val()};Object(a.b)("v1/book/index-title",t,"GET").then((function(e){i.indexTitleSelect.find('option[value="original"]').after('<option value="'+e+'">'+e+"</option>")})).catch((function(e){console.log("Index title generation error",e)}))}}}).call(this,n(30))},115:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(15),i={bookID:0,linkWrap:!1,linkTemplateAdd:wp.template("bdb-book-link-add"),linkTemplateEdit:wp.template("bdb-book-link-edit"),errorWrap:"",init:function(){this.bookID=e("#bdb-book-id").val(),this.linkWrap=e("#bdb-book-links"),this.errorWrap=e("#bdb-book-links-errors"),this.linkWrap.length&&(e("#bdb-new-purchase-link").on("keydown","input",this.clickOnEnter),e("#bdb-new-purchase-link").on("click","button",this.addLink),e(document).on("click",".bdb-update-book-link",this.updateLink),e(document).on("click",".bdb-remove-book-link",this.deleteLink),this.getLinks())},getLinks:function(){if(this.bookID){var t={book_id:i.bookID,number:50};Object(a.b)("v1/book-link",t,"GET").then((function(t){i.linkWrap.empty(),0===t.length||void 0===t.length||e.each(t,(function(e,t){i.linkWrap.append(i.linkTemplateEdit(t))}))})).catch((function(e){i.errorWrap.empty().append(e).show()}))}},clickOnEnter:function(t){13===t.keyCode&&(t.preventDefault(),e("#bdb-new-purchase-link").find("button").trigger("click"))},addLink:function(t){t.preventDefault();var n=e(this);if(Object(a.d)(n),i.errorWrap.empty().hide(),i.bookID){var o={book_id:i.bookID,retailer_id:e("#bdb-new-book-link-retailer").val(),url:e("#bdb-new-book-link-url").val()};Object(a.b)("v1/book-link/add",o,"POST").then((function(t){i.linkWrap.append(i.linkTemplateEdit(t)),e("#bdb-new-purchase-link").find("input").val(""),Object(a.e)(n)})).catch((function(e){i.errorWrap.append(e).show(),Object(a.e)(n)}))}else{var r={id:e(".bdb-book-link").length,retailer_id:e("#bdb-new-book-link-retailer").val(),url:e("#bdb-new-book-link-url").val()};i.linkWrap.append(i.linkTemplateAdd(r)),e("#bdb-new-purchase-link").find("input").val(""),Object(a.e)(n)}},updateLink:function(t){t.preventDefault();var n=e(this);Object(a.d)(n),i.errorWrap.empty().hide();var o=n.closest(".bdb-book-link"),r={retailer_id:o.find(".bdb-book-link-retailer").val(),url:o.find(".bdb-book-link-url").val()};Object(a.b)("v1/book-link/update/"+o.data("id"),r,"POST").then((function(e){Object(a.e)(n)})).catch((function(e){i.errorWrap.append(e).show(),Object(a.e)(n)}))},deleteLink:function(t){if(t.preventDefault(),!confirm(bdbVars.confirm_delete_book_link))return!1;var n=e(this);Object(a.d)(n),i.errorWrap.empty().hide();var o=n.closest(".bdb-book-link");i.bookID?Object(a.b)("v1/book-link/delete/"+o.data("id"),{},"DELETE").then((function(e){o.remove()})).catch((function(e){i.errorWrap.append(e).show(),Object(a.e)(n)})):o.remove()}}}).call(this,n(30))},116:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var a={init:function(){e(".bdb-new-checkbox-term").on("click",".button",this.addCheckboxTerm),e(".bdb-new-checkbox-term-value").on("keypress",this.addCheckboxTerm)},addCheckboxTerm:function(t){if("click"===t.type&&t.preventDefault(),"keypress"===t.type&&13!==t.which)return!0;t.preventDefault();var n=e(this).closest(".bdb-taxonomy-checkboxes"),i=n.data("name"),o=n.data("taxonomy"),r=n.find(".bdb-checkbox-wrap"),d=n.find(".bdb-new-checkbox-term-value"),c=a.createID(d.val(),o+"-");r.append('<label for="'+c+'"><input type="checkbox" id="'+c+'" name="'+i+'" class="bdb" value="'+d.val()+'" checked="checked"> '+d.val()+"</label>"),d.val("")},createID:function(e,t){return e.replace(/[^a-z0-9]/g,(function(e){var n=e.charCodeAt(0);return 32===n?"-":n>=65&&n<=90?t+e.toLowerCase():t+("000"+n.toString(16)).slice(-4)}))}}}).call(this,n(30))},117:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var a={init:function(){e(".bdb-delete-item").on("click",this.confirm)},confirm:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){var n=e(this).data("object"),a=bdbVars["confirm_delete_"+n];return!!confirm(a)}))}}).call(this,n(30))},118:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(15),i={responseWrap:!1,init:function(){this.responseWrap=e("#bdb-license-key-response"),e("#bdb-activate-license-key").on("click",this.activate),e("#bdb-deactivate-license-key").on("click",this.deactivate),e("#bdb-refresh-license-key").on("click",this.refresh)},activate:function(t){t.preventDefault();var n=e(this);Object(a.d)(n),i.responseWrap.empty().removeClass("bdb-notice bdb-notice-error");var o={action:"bdb_activate_license_key",license_key:e("#bdb-license-key").val(),nonce:n.data("nonce")};Object(a.a)(o).then((function(t){i.responseWrap.empty().addClass("bdb-notice bdb-notice-success").append(t),e("#bdb-activate-license-key").remove()})).catch((function(e){i.responseWrap.empty().addClass("bdb-notice bdb-notice-error").append(e),Object(a.e)(n)}))},deactivate:function(t){t.preventDefault();var n=e(this);Object(a.d)(n),i.responseWrap.empty().removeClass("bdb-notice bdb-notice-error");var o={action:"bdb_deactivate_license_key",license_key:e("#bdb-license-key").val(),nonce:n.data("nonce")};Object(a.a)(o).then((function(t){i.responseWrap.empty().addClass("bdb-notice bdb-notice-success").append(t),e("#bdb-deactivate-license-key").remove()})).catch((function(e){i.responseWrap.empty().addClass("bdb-notice bdb-notice-error").append(e),Object(a.e)(n)}))},refresh:function(t){t.preventDefault();var n=e(this),o=n.parent().find(".description");Object(a.d)(n),i.responseWrap.empty().removeClass("bdb-notice bdb-notice-error");var r={action:"bdb_refresh_license_key",license_key:e("#bdb-license-key").val(),nonce:n.data("nonce")};Object(a.a)(r).then((function(e){o.empty().append(e)})).catch((function(e){i.responseWrap.empty().addClass("bdb-notice bdb-notice-error").append(e)})).finally((function(){Object(a.e)(n)}))}}}).call(this,n(30))},119:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var a={frame:!1,init:function(){e(".bdb-upload-image").on("click",this.createFrame),e(".bdb-remove-image").on("click",this.removeImage)},createFrame:function(t){t.preventDefault();var n=e(this),i=e(this).parent().data("image"),o=e(this).parent().data("image-id"),r=e(this).parent().data("image-size");r&&void 0!==r||(r="medium"),a.frame=wp.media.frames.bookDB=wp.media({title:n.data("choose"),button:{text:n.data("update")},states:[new wp.media.controller.Library({title:n.data("choose"),filterable:"all",multiple:!1})]}),a.frame.on("select",(function(){a.frame.state().get("selection").map((function(t){if((t=t.toJSON()).id){e(o).val(t.id);var a=t.sizes&&t.sizes[r]?t.sizes[r].url:t.url;if(void 0!==e(i).attributes)for(;e(i).attributes.length>0;)elem.removeAttribute(elem.attributes[0].name);e(i).attr("src",a).attr("alt",t.alt).show(),n.parent().find(".bdb-remove-image").show()}}))})),a.frame.open()},removeImage:function(t){t.preventDefault();var n=e(this),a=n.parent().data("image"),i=n.parent().data("image-id");if(void 0!==e(a).attributes)for(;e(a).attributes.length>0;)elem.removeAttribute(elem.attributes[0].name);e(a).hide(),e(i).val(""),n.hide()}}}).call(this,n(30))},120:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(15),i=n(33),o=n(84),r={bookID:0,userID:0,maxPages:0,tableBody:!1,rowTemplate:wp.template("bdb-reading-logs-table-row"),rowEmptyTemplate:wp.template("bdb-reading-logs-table-row-empty"),errorWrap:"",userFilter:!1,editions:[],init:function(){this.bookID=e("#bdb-book-id").val(),this.userID=e("#bdb-book-reading-logs-list").data("user-id"),this.tableBody=e("#bdb-book-reading-logs-list .wp-list-table tbody"),this.errorWrap=e("#bdb-reading-logs-errors"),this.userFilter=e("#bdb-book-reading-logs-user-filter"),this.tableBody.length&&void 0!==this.bookID&&this.bookID&&(this.maxPages=e("#bdb-book-pages").val(),e("#bdb-add-reading-log").on("click",this.toggleNewLogFields),e("#bdb-submit-new-reading-log").on("click",this.addLog),e(document).on("click",".bdb-reading-log-toggle-editable",this.toggleEditableFields),e(document).on("click",".bdb-reading-log-percentage-complete .bdb-input-suffix",this.toggleCompleteUnit),e(document).on("click",".bdb-update-reading-log",this.updateLog),e(document).on("click",".bdb-remove-reading-log",this.removeLog),this.userFilter.on("change",this.getLogs),this.userFilter.trigger("change"),e(document).on("bdb_edition_added",this.updateEditions))},shapeObject:function(e){return e.date_started_formatted=Object(i.b)(e.date_started,"display"),e.date_started=Object(i.b)(e.date_started),e.date_finished_formatted=Object(i.b)(e.date_finished,"display"),e.date_finished=Object(i.b)(e.date_finished),e.percentage_complete=(100*e.percentage_complete).toFixed(0),e.rating=null===e.rating?null:parseFloat(e.rating),e.rating_formatted=null===e.rating?null:parseFloat(e.rating)+" "+bdbVars.stars,e},loadEditions:function(){return Object(a.b)("v1/edition",{book_id:r.bookID,number:50},"GET")},getLogs:function(){var t={book_id:r.bookID,number:50};e("#bdb-book-reading-logs-user-filter").prop("checked")&&(t.user_id=r.userID),r.loadEditions().then((function(n){if(r.editions=n,r.editions.length){var i=e("#bdb-new-log-edition-id-wrap"),o=e("#bdb-new-log-edition-id");o.empty().append('<option value="">'+bdbVars.none+"</option>"),e.each(r.editions,(function(e,t){o.append('<option value="'+t.id+'">'+t.isbn+" - "+t.format_name+"</option>")})),i.show()}return Object(a.b)("v1/reading-log",t,"GET")})).then((function(t){r.tableBody.empty(),0===t.length||void 0===t.length?r.tableBody.append(r.rowEmptyTemplate):(e("#bdb-book-reading-logs-empty").remove(),e.each(t,(function(e,t){t=r.shapeObject(t),r.tableBody.append(r.rowTemplate(t))})),r.tableBody.find(".bdb-book-edition-list").each((function(){Object(o.b)(e(this),r.editions)}))),e(document).trigger("bdb_reading_logs_loaded")})).catch((function(e){r.errorWrap.empty().append(e).show()}))},toggleNewLogFields:function(t){void 0!==t&&t.preventDefault(),e("#bdb-new-reading-log-fields").slideToggle()},addLog:function(t){t.preventDefault();var n=e(this);Object(a.d)(n),r.errorWrap.empty().hide();var d=e("#bdb-new-log-percent-complete").val();""!==d&&d>0?d/=100:d=0;var c=e("#bdb-new-log-edition-id").val(),l={book_id:r.bookID,edition_id:c.length>0?c:null,user_id:r.userID,date_started:Object(i.a)(e("#bdb-new-log-start-date").val()),date_finished:Object(i.a)(e("#bdb-new-log-end-date").val()),percentage_complete:d,rating:e("#bdb-new-log-rating").val()};Object(a.b)("v1/reading-log/add",l,"POST").then((function(t){t=r.shapeObject(t),e("#bdb-book-reading-logs-empty").remove(),r.tableBody.append(r.rowTemplate(t));var n=e("#bdb-reading-log-edition-id-"+t.id);n.length&&Object(o.b)(n,r.editions);var a=e("#bdb-new-reading-log-fields");a.find('input[type="text"]').val(""),a.find('input[type="checkbox"]').prop("checked",!1),r.toggleNewLogFields(),e(document).trigger("bdb_reading_log_added",t)})).catch((function(e){r.errorWrap.append(e).show()})).finally((function(){Object(a.e)(n)}))},toggleEditableFields:function(t){t.preventDefault();var n=e(this),a=n.closest("tr");a.find(".bdb-table-display-value").hide(),a.find(".bdb-table-edit-value").show(),n.removeClass("bdb-reading-log-toggle-editable").addClass("bdb-update-reading-log button-primary").text(bdbVars.save)},toggleCompleteUnit:function(t){t.preventDefault();var n=e(this).closest(".bdb-reading-log-percentage-complete"),a="percentage";e(this).hasClass("bdb-input-suffix-page")&&(a="page"),n.find(".bdb-input-suffix").removeClass("bdb-input-suffix-selected"),e(this).addClass("bdb-input-suffix-selected"),"page"===a?(n.find(".bdb-reading-log-percentage-complete-wrap").hide(),n.find(".bdb-reading-log-page-wrap").show()):(n.find(".bdb-reading-log-percentage-complete-wrap").show(),n.find(".bdb-reading-log-page-wrap").hide())},updateLog:function(t){t.preventDefault();var n=e(this);Object(a.d)(n),r.errorWrap.empty().hide();var d=n.closest("tr"),c=0,l="percentage";if(d.find(".bdb-input-suffix-selected").hasClass("bdb-input-suffix-page")&&(l="page"),"page"===l){var s=d.find(".bdb-reading-log-page-wrap input").val();c=r.maxPages>0?s/r.maxPages:0}else""!==(c=d.find(".bdb-reading-log-percentage-complete-wrap input").val())&&c>0?c/=100:c=0;var u=d.find(".bdb-book-edition-list").val(),f={date_started:Object(i.a)(d.find(".bdb-reading-log-date-started input").val()),date_finished:Object(i.a)(d.find(".bdb-reading-log-date-finished input").val()),edition_id:u.length>0?u:null,user_id:d.find(".bdb-reading-log-user-id input").val(),percentage_complete:c,rating:d.find(".bdb-reading-log-rating select").val()};Object(a.b)("v1/reading-log/update/"+d.data("id"),f,"POST").then((function(t){t=r.shapeObject(t),d.replaceWith(r.rowTemplate(t));var n=e("#bdb-reading-log-edition-id-"+t.id);n.length&&Object(o.b)(n,r.editions),e(document).trigger("bdb_reading_log_updated",t)})).catch((function(e){r.errorWrap.append(e).show()})).finally((function(){Object(a.e)(n)}))},removeLog:function(t){if(t.preventDefault(),!confirm(bdbVars.confirm_delete_reading_log))return!1;var n=e(this);Object(a.d)(n),r.errorWrap.empty().hide();var i=n.closest("tr");Object(a.b)("v1/reading-log/delete/"+i.data("id"),{},"DELETE").then((function(e){i.remove()})).catch((function(e){r.errorWrap.append(e).show()})).finally((function(){Object(a.e)(n)}))},updateEditions:function(e,t){r.editions.push(t)}}}).call(this,n(30))},121:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(15),i={tableBody:!1,rowTemplate:wp.template("bdb-retailers-table-row"),rowEmptyTemplate:wp.template("bdb-retailers-table-row-empty"),errorWrap:"",init:function(){this.tableBody=e("#bdb-retailers tbody"),this.errorWrap=e("#bdb-retailers-errors"),this.tableBody.length&&(e("#bdb-new-retailer-fields").on("keydown","input",this.clickOnEnter),e("#bdb-new-retailer-fields").on("click","button",this.addRetailer),e(document).on("click",".bdb-update-retailer",this.updateRetailer),e(document).on("click",".bdb-remove-retailer",this.deleteRetailer),this.getRetailers())},getRetailers:function(){Object(a.b)("v1/retailer",{number:50},"GET").then((function(t){i.tableBody.empty(),0===t.length||void 0===t.length?i.tableBody.append(i.rowEmptyTemplate):(e("#bdb-retailers-empty").remove(),e.each(t,(function(e,t){i.tableBody.append(i.rowTemplate(t))})))})).catch((function(e){i.errorWrap.empty().append(e).show()}))},clickOnEnter:function(t){13===t.keyCode&&(t.preventDefault(),e("#bdb-new-retailer-fields").find("button").trigger("click"))},addRetailer:function(t){t.preventDefault();var n=e(this);Object(a.d)(n),i.errorWrap.empty().hide();var o={name:e("#bdb-new-retailer-name").val(),template:e("#bdb-new-retailer-template").val()};i.checkRequiredFields(o).then((function(e){return Object(a.b)("v1/retailer/add",o,"POST")})).then((function(t){e("#bdb-retailers-empty").remove(),i.tableBody.append(i.rowTemplate(t)),e("#bdb-newretailer-fields").find("input").val(""),Object(a.e)(n)})).catch((function(e){i.errorWrap.append(e).show(),Object(a.e)(n)}))},updateRetailer:function(t){t.preventDefault();var n=e(this);Object(a.d)(n),i.errorWrap.empty().hide();var o=n.closest("tr"),r={name:o.find(".bdb-retailer-name input").val(),template:o.find(".bdb-retailer-template textarea").val()};i.checkRequiredFields(r).then((function(e){return Object(a.b)("v1/retailer/update/"+o.data("id"),r,"POST")})).then((function(e){Object(a.e)(n)})).catch((function(e){i.errorWrap.append(e).show(),Object(a.e)(n)}))},deleteRetailer:function(t){t.preventDefault();var n=e(this),o=!1;Object(a.d)(n),i.errorWrap.empty().hide();var r=n.closest("tr"),d=r.data("id"),c=bdbVars.confirm_delete_retailer;Object(a.b)("v1/book-link",{retailer_id:d,number:1},"GET").then((function(e){if(void 0!==e&&void 0!==e.length&&e.length>0&&(c=bdbVars.confirm_delete_retailer_links),!confirm(c))throw o=!0,Error();return Object(a.b)("v1/retailer/delete/"+d,{},"DELETE")})).then((function(e){r.remove()})).catch((function(e){o||i.errorWrap.append(e).show()})).finally((function(){Object(a.e)(n)}))},checkRequiredFields:function(e){return new Promise((function(t,n){e.hasOwnProperty("name")&&""!==e.name?t():n(bdbVars.error_required_fields)}))}}}).call(this,n(30))},122:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var a={tag:!1,init:function(){this.tag=e(".bdb-ajaxtag"),this.tag.length&&(e(".bdb-tags-wrap").each((function(){a.quickClicks(e(this))})),e(".button",a.tag).on("click",(function(){a.flushTags(e(this).closest(".bdb-tags-wrap"))})),a.tag.each((function(){var t=e(".bdb-new-tag",e(this)),n=e(this).closest(".bdb-tags-wrap").data("taxonomy"),i=bdbVars.api_base+"book-database/v1/book-term/suggest/?taxonomy="+n+"&format=text&_wpnonce="+bdbVars.api_nonce;"author"===n&&(i=bdbVars.api_base+"book-database/v1/author/suggest/?format=text&_wpnonce="+bdbVars.api_nonce),t.on("keyup",(function(t){if(13===t.which)return a.flushTags(e(this).closest(".bdb-tags-wrap")),!1})).on("keypress",(function(e){if(13===e.which)return e.preventDefault(),!1})).suggest(i)})),e("#bdb-book-series-name").suggest(bdbVars.api_base+"book-database/v1/series/suggest/?format=text&_wpnonce="+bdbVars.api_nonce),e(".bdb-admin-page > form").on("submit",(function(t){e(".bdb-tags-wrap").each((function(){a.flushTags(this,!1,1)}))})))},clean:function(e){return e.replace(/\s*,\s*/g,",").replace(/,+/g,",").replace(/[,\s]+$/,"").replace(/^[,\s]+/,"")},parseTags:function(t){var n=t.id.split("-check-num-")[1],i=e(t).closest(".bdb-tags-wrap"),o=i.find("textarea"),r=o.val().split(","),d=[];return delete r[n],e.each(r,(function(t,n){(n=e.trim(n))&&d.push(n)})),o.val(a.clean(d.join(","))),a.quickClicks(i),!1},quickClicks:function(t){var n,i,o=e("textarea",t),r=e(".bdb-tags-checklist",t),d=e(t).attr("id");o.length&&(i=o.prop("disabled"),n=o.val().split(","),r.empty(),e.each(n,(function(t,n){var o,c;(n=e.trim(n))&&(o=e("<span />").text(n),i||((c=e('<a id="'+d+"-check-num-"+t+'" class="ntdelbutton">X</a>')).on("click",(function(e){a.parseTags(this)})),o.prepend("&nbsp;").prepend(c)),r.append(o))})))},flushTags:function(t,n,i){var o;n=n||!1;var r,d,c=e("textarea",t),l=e(".bdb-new-tag",t);return o=n?n.text():l.val(),d=(r=c.val())?r+","+o:o,d=a.clean(d),d=a.uniqueArray(d.split(",")).join(","),c.val(d),a.quickClicks(t),n||l.val(""),void 0===i&&l.focus(),!1},uniqueArray:function(t){var n=[];return e.each(t,(function(t,a){(a=e.trim(a))&&-1===e.inArray(a,n)&&n.push(a)})),n}}}).call(this,n(30))},123:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(15),i={tableBody:!1,rowTemplate:wp.template("bdb-taxonomies-table-row"),rowEmptyTemplate:wp.template("bdb-taxonomies-table-row-empty"),errorWrap:"",init:function(){this.tableBody=e("#bdb-book-taxonomies tbody"),this.errorWrap=e("#bdb-book-taxonomies-errors"),this.tableBody.length&&(e("#bdb-new-book-taxonomy-name").on("keyup",this.generateSlug),e("#bdb-new-book-taxonomy-fields").on("keydown","input",this.clickOnEnter),e("#bdb-new-book-taxonomy-fields").on("click",".button-primary",this.addTaxonomy),e(document).on("click",".bdb-update-book-taxonomy",this.updateTaxonomy),e(document).on("click",".bdb-remove-book-taxonomy",this.deleteTaxonomy),this.getTaxonomies())},getTaxonomies:function(){Object(a.b)("v1/taxonomy",{number:50},"GET").then((function(t){i.tableBody.empty(),0===t.length||void 0===t.length?i.tableBody.append(i.rowEmptyTemplate):(e("#bdb-book-taxonomies-empty").remove(),e.each(t,(function(e,t){i.tableBody.append(i.rowTemplate(t))})))})).catch((function(e){i.errorWrap.empty().append(e).show()}))},generateSlug:function(t){var n=e("#bdb-new-book-taxonomy-name").val().toLowerCase().replace(/[^a-z0-9_\-]/g,"");e("#bdb-new-book-taxonomy-slug").val(n)},clickOnEnter:function(t){13===t.keyCode&&(t.preventDefault(),e("#bdb-new-book-taxonomy-fields").find("button").trigger("click"))},addTaxonomy:function(t){t.preventDefault();var n=e(this);Object(a.d)(n),i.errorWrap.empty().hide();var o={name:e("#bdb-new-book-taxonomy-name").val(),slug:e("#bdb-new-book-taxonomy-slug").val(),format:e("#bdb-new-book-taxonomy-format").val()};i.checkRequiredFields(o).then((function(e){return Object(a.b)("v1/taxonomy/add",o,"POST")})).then((function(t){e("#bdb-book-taxonomies-empty").remove(),i.tableBody.append(i.rowTemplate(t)),e("#bdb-new-book-taxonomy-fields").find("input").val(""),Object(a.e)(n)})).catch((function(e){i.errorWrap.append(e).show(),Object(a.e)(n)}))},updateTaxonomy:function(t){t.preventDefault();var n=e(this);Object(a.d)(n),i.errorWrap.empty().hide();var o=n.closest("tr"),r={name:o.find(".bdb-book-taxonomy-name input").val(),slug:o.find(".bdb-book-taxonomy-slug input").val(),format:o.find(".bdb-book-taxonomy-format select").val()};i.checkRequiredFields(r).then((function(e){return Object(a.b)("v1/taxonomy/update/"+o.data("id"),r,"POST")})).then((function(e){Object(a.e)(n)})).catch((function(e){i.errorWrap.append(e).show(),Object(a.e)(n)}))},deleteTaxonomy:function(t){if(t.preventDefault(),!confirm(bdbVars.confirm_delete_taxonomy))return!1;var n=e(this);Object(a.d)(n),i.errorWrap.empty().hide();var o=n.closest("tr");Object(a.b)("v1/taxonomy/delete/"+o.data("id"),{},"DELETE").then((function(e){o.remove()})).catch((function(e){i.errorWrap.append(e).show(),Object(a.e)(n)}))},checkRequiredFields:function(e){return new Promise((function(t,n){e.hasOwnProperty("name")&&""!==e.name&&e.hasOwnProperty("slug")&&""!==e.slug&&e.hasOwnProperty("format")&&""!==e.format?t():n(bdbVars.error_required_fields)}))}}}).call(this,n(30))},129:function(e,t,n){"use strict";n.r(t);var a=n(113),i=n(114),o=n(115),r=n(116),d=n(88),c=n(117),l=n(84),s=n(118),u=n(119),f=n(120),p=n(121),m=n(122),b=n(123);jQuery,a.a.init(),i.a.init(),o.a.init(),r.a.init(),d.a.init(),c.a.init(),l.a.init(),s.a.init(),u.a.init(),f.a.init(),p.a.init(),m.a.init(),b.a.init()},15:function(e,t,n){"use strict";var a=n(63);function i(e){var t=bdbVars.is_admin?'<span class="spinner is-active"></span>':bdbVars.please_wait;e.prop("disabled",!0).data("text",e.text()).html(t)}function o(e){e.prop("disabled",!1).text(e.data("text"))}function r(e){var t="",n=Math.floor(e),a=Math.ceil(e-n);return t+="&starf;".repeat(n),t+="&half;".repeat(a)}n.d(t,"b",(function(){return a.b})),n.d(t,"a",(function(){return a.a})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return r}))},30:function(e,t){e.exports=jQuery},33:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var a="YYYY-MM-DD HH:mm:ss",i="MMMM D, YYYY";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mysql";return""!==e&&e?(t="display"===t?i:a,(e=moment.utc(e)).local().format(t)):""}function r(e){return""!==e&&e?(e=moment(e)).utc().format(a):""}},63:function(e,t,n){"use strict";(function(e){function a(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={method:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",url:bdbVars.api_base+"book-database/"+t,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",bdbVars.api_nonce)},xhrFields:{withCredentials:!0},data:n};return new Promise((function(t,n){e.ajax(a).success((function(e){t(e)})).error((function(e,t,a){var i=bdbVars.generic_erroc;void 0!==e.responseJSON?void 0!==(i=e.responseJSON).message&&(i=i.message):void 0!==e.message&&(i=e.message),n(i)}))}))}function i(t){var n={method:"POST",dataType:"JSON",url:ajaxurl,data:t};return new Promise((function(t,a){e.ajax(n).success((function(e){e.success?t(e.data):a(e.data)})).error((function(e,t,n){var i=bdbVars.generic_erroc;void 0!==e.responseJSON?void 0!==(i=e.responseJSON).message&&(i=i.message):void 0!==e.message&&(i=e.message),a(i)}))}))}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}))}).call(this,n(30))},84:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n(15),i=n(33),o={bookID:0,tableBody:!1,rowTemplate:wp.template("bdb-editions-table-row"),rowEmptyTemplate:wp.template("bdb-editions-table-row-empty"),errorWrap:"",init:function(){this.bookID=e("#bdb-book-id").val(),this.tableBody=e("#bdb-book-editions-list .wp-list-table tbody"),this.errorWrap=e("#bdb-editions-errors"),this.tableBody.length&&void 0!==this.bookID&&this.bookID&&(e("#bdb-add-edition").on("click",this.toggleNewEditionFields),e("#bdb-submit-new-edition").on("click",this.addEdition),e(document).on("click",".bdb-edition-toggle-editable",this.toggleEditableFields),e(document).on("click",".bdb-update-edition",this.updateEdition),e(document).on("click",".bdb-remove-edition",this.removeEdition),this.getEditions())},getEditions:function(){Object(a.b)("v1/edition",{book_id:o.bookID,number:50},"GET").then((function(t){o.tableBody.empty(),0===t.length||void 0===t.length?o.tableBody.append(o.rowEmptyTemplate):(e("#bdb-book-editions-empty").remove(),e.each(t,(function(e,t){t.date_acquired_formatted=Object(i.b)(t.date_acquired,"display"),t.date_acquired=Object(i.b)(t.date_acquired),o.tableBody.append(o.rowTemplate(t))}))),e(document).trigger("bdb_editions_loaded")})).catch((function(e){o.errorWrap.empty().append(e).show()}))},toggleNewEditionFields:function(t){void 0!==t&&t.preventDefault(),e("#bdb-new-edition-fields").slideToggle()},addEdition:function(t){t.preventDefault();var n=e(this);Object(a.d)(n),o.errorWrap.empty().hide();var r={book_id:o.bookID,isbn:e("#bdb-new-edition-isbn").val(),format:e("#bdb-new-edition-format").val(),date_acquired:Object(i.a)(e("#bdb-new-edition-date-acquired").val()),source_id:e("#bdb-checkboxes-source-edition").find("input:checked").val(),signed:e("#bdb-new-edition-signed").prop("checked")?1:0};Object(a.b)("v1/edition/add",r,"POST").then((function(t){t.date_acquired_formatted=Object(i.b)(t.date_acquired,"display"),t.date_acquired=Object(i.b)(t.date_acquired),e("#bdb-book-editions-empty").remove(),o.tableBody.append(o.rowTemplate(t));var n=e("#bdb-new-edition-fields");n.find('input[type="text"]').val(""),n.find('input[type="checkbox"]').prop("checked",!1),o.toggleNewEditionFields(),d(t),e(document).trigger("bdb_edition_added",t)})).catch((function(e){o.errorWrap.append(e).show()})).finally((function(){Object(a.e)(n)}))},toggleEditableFields:function(t){t.preventDefault();var n=e(this),a=n.closest("tr");a.find(".bdb-table-display-value").hide(),a.find(".bdb-table-edit-value").show(),n.removeClass("bdb-edition-toggle-editable").addClass("bdb-update-edition button-primary").text(bdbVars.save)},updateEdition:function(t){t.preventDefault();var n=e(this);Object(a.d)(n),o.errorWrap.empty().hide();var r=n.closest("tr"),c={isbn:r.find(".bdb-edition-isbn input").val(),format:r.find(".bdb-edition-format select").val(),date_acquired:Object(i.a)(r.find(".bdb-edition-date-acquired input").val()),source_id:r.find(".bdb-edition-source select").val(),signed:r.find('.bdb-edition-signed input[type="checkbox"]').prop("checked")?1:0};Object(a.b)("v1/edition/update/"+r.data("id"),c,"POST").then((function(t){t.date_acquired_formatted=Object(i.b)(t.date_acquired,"display"),t.date_acquired=Object(i.b)(t.date_acquired),r.replaceWith(o.rowTemplate(t)),d(t),e(document).trigger("bdb_edition_updated",t)})).catch((function(e){o.errorWrap.append(e).show()})).finally((function(){Object(a.e)(n)}))},removeEdition:function(t){if(t.preventDefault(),!confirm(bdbVars.confirm_delete_edition))return!1;var n=e(this);Object(a.d)(n),o.errorWrap.empty().hide();var i=n.closest("tr"),r=i.data("id");Object(a.b)("v1/edition/delete/"+r,{},"DELETE").then((function(t){i.remove(),function(t){e(".bdb-book-edition-list").each((function(){e(this).find('option[value="'+t+'"]').remove()}))}(r)})).catch((function(e){o.errorWrap.append(e).show()})).finally((function(){Object(a.e)(n)}))}};function r(t,n){var a=t.data("selected");t.empty().append('<option value="">'+bdbVars.none+"</option>"),e.each(n,(function(e,n){var i=n.id==a?' selected="selected"':"";t.append('<option value="'+n.id+'"'+i+">"+n.isbn+" - "+n.format_name+"</option>")}))}function d(t){e(".bdb-book-edition-list").each((function(){var n=e(this),a=n.find('option[value="'+t.id+'"]');a.length?a.text(t.isbn+" - "+t.format_name):n.append('<option value="'+t.id+'">'+t.isbn+" - "+t.format_name+"</option>")}))}}).call(this,n(30))},88:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(89),i=n.n(a),o={init:function(){e(".bdb-datepicker").length>0&&this.initDatepickers(),e(document).on("click",".bdb-edit-row-with-datepicker",this.maybeAddDatepicker)},createDatepicker:function(e){var t={allowInput:!0,dateFormat:"Y-m-d"};e.classList.contains("bdb-timepicker")&&(t.enableTime=!0,t.dateFormat="Y-m-d H:i",t.altFormat="F J, Y, h:i K"),i()(e,t)},initDatepickers:function(){document.querySelectorAll(".bdb-datepicker").forEach((function(e){o.createDatepicker(e)}))},maybeAddDatepicker:function(e){this.closest("tr").querySelectorAll(".bdb-datepicker").forEach((function(e){void 0===e._flatpickr&&o.createDatepicker(e)}))}}}).call(this,n(30))},89:function(e,t,n){
/* flatpickr v4.6.3, @license MIT */
e.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var e=function(){return(e=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},t=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],n={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},a={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},i=function(e){return("0"+e).slice(-2)},o=function(e){return!0===e?1:0};function r(e,t,n){var a;return void 0===n&&(n=!1),function(){var i=this,o=arguments;null!==a&&clearTimeout(a),a=window.setTimeout((function(){a=null,n||e.apply(i,o)}),t),n&&!a&&e.apply(i,o)}}var d=function(e){return e instanceof Array?e:[e]};function c(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function l(e,t,n){var a=window.document.createElement(e);return t=t||"",n=n||"",a.className=t,void 0!==n&&(a.textContent=n),a}function s(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function u(e,t){var n=l("div","numInputWrapper"),a=l("input","numInput "+e),i=l("span","arrowUp"),o=l("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?a.type="number":(a.type="text",a.pattern="\\d*"),void 0!==t)for(var r in t)a.setAttribute(r,t[r]);return n.appendChild(a),n.appendChild(i),n.appendChild(o),n}var f=function(){},p=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},m={D:f,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*o(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var a=parseInt(t),i=new Date(e.getFullYear(),0,2+7*(a-1),0,0,0,0);return i.setDate(i.getDate()-i.getDay()+n.firstDayOfWeek),i},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:f,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:f,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},b={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},g={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[g.w(e,t,n)]},F:function(e,t,n){return p(g.n(e,t,n)-1,!1,t)},G:function(e,t,n){return i(g.h(e,t,n))},H:function(e){return i(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[o(e.getHours()>11)]},M:function(e,t){return p(e.getMonth(),!0,t)},S:function(e){return i(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return i(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return i(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return i(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},h=function(e){var t=e.config,i=void 0===t?n:t,o=e.l10n,r=void 0===o?a:o;return function(e,t,n){var a=n||r;return void 0!==i.formatDate?i.formatDate(e,t,a):t.split("").map((function(t,n,o){return g[t]&&"\\"!==o[n-1]?g[t](e,a,i):"\\"!==t?t:""})).join("")}},v=function(e){var t=e.config,i=void 0===t?n:t,o=e.l10n,r=void 0===o?a:o;return function(e,t,a,o){if(0===e||e){var d,c=o||r,l=e;if(e instanceof Date)d=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)d=new Date(e);else if("string"==typeof e){var s=t||(i||n).dateFormat,u=String(e).trim();if("today"===u)d=new Date,a=!0;else if(/Z$/.test(u)||/GMT$/.test(u))d=new Date(e);else if(i&&i.parseDate)d=i.parseDate(e,s);else{d=i&&i.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var f=void 0,p=[],g=0,h=0,v="";g<s.length;g++){var y=s[g],w="\\"===y,D="\\"===s[g-1]||w;if(b[y]&&!D){v+=b[y];var k=new RegExp(v).exec(e);k&&(f=!0)&&p["Y"!==y?"push":"unshift"]({fn:m[y],val:k[++h]})}else w||(v+=".");p.forEach((function(e){var t=e.fn,n=e.val;return d=t(d,n,c)||d}))}d=f?d:void 0}}if(d instanceof Date&&!isNaN(d.getTime()))return!0===a&&d.setHours(0,0,0,0),d;i.errorHandler(new Error("Invalid date provided: "+l))}}};function y(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var w=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},D={DAY:864e5};"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var a=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},i=0,o=t;i<o.length;i++){var r=o[i];a(r)}return e});var k=300;function C(f,m){var g={config:e({},n,M.defaultConfig),l10n:a};function C(e){return e.bind(g)}function x(){var e=g.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==g.calendarContainer&&(g.calendarContainer.style.visibility="hidden",g.calendarContainer.style.display="block"),void 0!==g.daysContainer){var t=(g.days.offsetWidth+1)*e.showMonths;g.daysContainer.style.width=t+"px",g.calendarContainer.style.width=t+(void 0!==g.weekWrapper?g.weekWrapper.offsetWidth:0)+"px",g.calendarContainer.style.removeProperty("visibility"),g.calendarContainer.style.removeProperty("display")}}))}function T(e){0===g.selectedDates.length&&ie(),void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=e.target;void 0!==g.amPM&&e.target===g.amPM&&(g.amPM.textContent=g.l10n.amPM[o(g.amPM.textContent===g.l10n.amPM[0])]);var a=parseFloat(n.getAttribute("min")),r=parseFloat(n.getAttribute("max")),d=parseFloat(n.getAttribute("step")),c=parseInt(n.value,10),l=e.delta||(t?38===e.which?1:-1:0),s=c+d*l;if(void 0!==n.value&&2===n.value.length){var u=n===g.hourElement,f=n===g.minuteElement;s<a?(s=r+s+o(!u)+(o(u)&&o(!g.amPM)),f&&Y(void 0,-1,g.hourElement)):s>r&&(s=n===g.hourElement?s-r-o(!g.amPM):a,f&&Y(void 0,1,g.hourElement)),g.amPM&&u&&(1===d?s+c===23:Math.abs(s-c)>d)&&(g.amPM.textContent=g.l10n.amPM[o(g.amPM.textContent===g.l10n.amPM[0])]),n.value=i(s)}}(e);var t=g._input.value;_(),ye(),g._input.value!==t&&g._debouncedChange()}function _(){if(void 0!==g.hourElement&&void 0!==g.minuteElement){var e,t,n=(parseInt(g.hourElement.value.slice(-2),10)||0)%24,a=(parseInt(g.minuteElement.value,10)||0)%60,i=void 0!==g.secondElement?(parseInt(g.secondElement.value,10)||0)%60:0;void 0!==g.amPM&&(e=n,t=g.amPM.textContent,n=e%12+12*o(t===g.l10n.amPM[1]));var r=void 0!==g.config.minTime||g.config.minDate&&g.minDateHasTime&&g.latestSelectedDateObj&&0===y(g.latestSelectedDateObj,g.config.minDate,!0);if(void 0!==g.config.maxTime||g.config.maxDate&&g.maxDateHasTime&&g.latestSelectedDateObj&&0===y(g.latestSelectedDateObj,g.config.maxDate,!0)){var d=void 0!==g.config.maxTime?g.config.maxTime:g.config.maxDate;(n=Math.min(n,d.getHours()))===d.getHours()&&(a=Math.min(a,d.getMinutes())),a===d.getMinutes()&&(i=Math.min(i,d.getSeconds()))}if(r){var c=void 0!==g.config.minTime?g.config.minTime:g.config.minDate;(n=Math.max(n,c.getHours()))===c.getHours()&&(a=Math.max(a,c.getMinutes())),a===c.getMinutes()&&(i=Math.max(i,c.getSeconds()))}j(n,a,i)}}function O(e){var t=e||g.latestSelectedDateObj;t&&j(t.getHours(),t.getMinutes(),t.getSeconds())}function E(){var e=g.config.defaultHour,t=g.config.defaultMinute,n=g.config.defaultSeconds;if(void 0!==g.config.minDate){var a=g.config.minDate.getHours(),i=g.config.minDate.getMinutes();(e=Math.max(e,a))===a&&(t=Math.max(i,t)),e===a&&t===i&&(n=g.config.minDate.getSeconds())}if(void 0!==g.config.maxDate){var o=g.config.maxDate.getHours(),r=g.config.maxDate.getMinutes();(e=Math.min(e,o))===o&&(t=Math.min(r,t)),e===o&&t===r&&(n=g.config.maxDate.getSeconds())}j(e,t,n)}function j(e,t,n){void 0!==g.latestSelectedDateObj&&g.latestSelectedDateObj.setHours(e%24,t,n||0,0),g.hourElement&&g.minuteElement&&!g.isMobile&&(g.hourElement.value=i(g.config.time_24hr?e:(12+e)%12+12*o(e%12==0)),g.minuteElement.value=i(t),void 0!==g.amPM&&(g.amPM.textContent=g.l10n.amPM[o(e>=12)]),void 0!==g.secondElement&&(g.secondElement.value=i(n)))}function I(e){var t=parseInt(e.target.value)+(e.delta||0);(t/1e3>1||"Enter"===e.key&&!/[^\d]/.test(t.toString()))&&X(t)}function S(e,t,n,a){return t instanceof Array?t.forEach((function(t){return S(e,t,n,a)})):e instanceof Array?e.forEach((function(e){return S(e,t,n,a)})):(e.addEventListener(t,n,a),void g._handlers.push({element:e,event:t,handler:n,options:a}))}function F(e){return function(t){1===t.which&&e(t)}}function P(){me("onChange")}function N(e,t){var n=void 0!==e?g.parseDate(e):g.latestSelectedDateObj||(g.config.minDate&&g.config.minDate>g.now?g.config.minDate:g.config.maxDate&&g.config.maxDate<g.now?g.config.maxDate:g.now),a=g.currentYear,i=g.currentMonth;try{void 0!==n&&(g.currentYear=n.getFullYear(),g.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,g.config.errorHandler(e)}t&&g.currentYear!==a&&(me("onYearChange"),V()),!t||g.currentYear===a&&g.currentMonth===i||me("onMonthChange"),g.redraw()}function A(e){~e.target.className.indexOf("arrow")&&Y(e,e.target.classList.contains("arrowUp")?1:-1)}function Y(e,t,n){var a=e&&e.target,i=n||a&&a.parentNode&&a.parentNode.firstChild,o=be("increment");o.delta=t,i&&i.dispatchEvent(o)}function W(e,t,n,a){var i=Z(t,!0),o=l("span","flatpickr-day "+e,t.getDate().toString());return o.dateObj=t,o.$i=a,o.setAttribute("aria-label",g.formatDate(t,g.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===y(t,g.now)&&(g.todayDateElem=o,o.classList.add("today"),o.setAttribute("aria-current","date")),i?(o.tabIndex=-1,ge(t)&&(o.classList.add("selected"),g.selectedDateElem=o,"range"===g.config.mode&&(c(o,"startRange",g.selectedDates[0]&&0===y(t,g.selectedDates[0],!0)),c(o,"endRange",g.selectedDates[1]&&0===y(t,g.selectedDates[1],!0)),"nextMonthDay"===e&&o.classList.add("inRange")))):o.classList.add("flatpickr-disabled"),"range"===g.config.mode&&function(e){return!("range"!==g.config.mode||g.selectedDates.length<2)&&y(e,g.selectedDates[0])>=0&&y(e,g.selectedDates[1])<=0}(t)&&!ge(t)&&o.classList.add("inRange"),g.weekNumbers&&1===g.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&g.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+g.config.getWeek(t)+"</span>"),me("onDayCreate",o),o}function L(e){e.focus(),"range"===g.config.mode&&ne(e)}function H(e){for(var t=e>0?0:g.config.showMonths-1,n=e>0?g.config.showMonths:-1,a=t;a!=n;a+=e)for(var i=g.daysContainer.children[a],o=e>0?0:i.children.length-1,r=e>0?i.children.length:-1,d=o;d!=r;d+=e){var c=i.children[d];if(-1===c.className.indexOf("hidden")&&Z(c.dateObj))return c}}function B(e,t){var n=ee(document.activeElement||document.body),a=void 0!==e?e:n?document.activeElement:void 0!==g.selectedDateElem&&ee(g.selectedDateElem)?g.selectedDateElem:void 0!==g.todayDateElem&&ee(g.todayDateElem)?g.todayDateElem:H(t>0?1:-1);return void 0===a?g._input.focus():n?void function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():g.currentMonth,a=t>0?g.config.showMonths:-1,i=t>0?1:-1,o=n-g.currentMonth;o!=a;o+=i)for(var r=g.daysContainer.children[o],d=n-g.currentMonth===o?e.$i+t:t<0?r.children.length-1:0,c=r.children.length,l=d;l>=0&&l<c&&l!=(t>0?c:-1);l+=i){var s=r.children[l];if(-1===s.className.indexOf("hidden")&&Z(s.dateObj)&&Math.abs(e.$i-l)>=Math.abs(t))return L(s)}g.changeMonth(i),B(H(i),0)}(a,t):L(a)}function q(e,t){for(var n=(new Date(e,t,1).getDay()-g.l10n.firstDayOfWeek+7)%7,a=g.utils.getDaysInMonth((t-1+12)%12),i=g.utils.getDaysInMonth(t),o=window.document.createDocumentFragment(),r=g.config.showMonths>1,d=r?"prevMonthDay hidden":"prevMonthDay",c=r?"nextMonthDay hidden":"nextMonthDay",s=a+1-n,u=0;s<=a;s++,u++)o.appendChild(W(d,new Date(e,t-1,s),s,u));for(s=1;s<=i;s++,u++)o.appendChild(W("",new Date(e,t,s),s,u));for(var f=i+1;f<=42-n&&(1===g.config.showMonths||u%7!=0);f++,u++)o.appendChild(W(c,new Date(e,t+1,f%i),f,u));var p=l("div","dayContainer");return p.appendChild(o),p}function R(){if(void 0!==g.daysContainer){s(g.daysContainer),g.weekNumbers&&s(g.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<g.config.showMonths;t++){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),e.appendChild(q(n.getFullYear(),n.getMonth()))}g.daysContainer.appendChild(e),g.days=g.daysContainer.firstChild,"range"===g.config.mode&&1===g.selectedDates.length&&ne()}}function V(){if(!(g.config.showMonths>1||"dropdown"!==g.config.monthSelectorType)){var e=function(e){return!(void 0!==g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&e<g.config.minDate.getMonth()||void 0!==g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()&&e>g.config.maxDate.getMonth())};g.monthsDropdownContainer.tabIndex=-1,g.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=l("option","flatpickr-monthDropdown-month");n.value=new Date(g.currentYear,t).getMonth().toString(),n.textContent=p(t,g.config.shorthandCurrentMonth,g.l10n),n.tabIndex=-1,g.currentMonth===t&&(n.selected=!0),g.monthsDropdownContainer.appendChild(n)}}}function J(){var e,t=l("div","flatpickr-month"),n=window.document.createDocumentFragment();g.config.showMonths>1||"static"===g.config.monthSelectorType?e=l("span","cur-month"):(g.monthsDropdownContainer=l("select","flatpickr-monthDropdown-months"),S(g.monthsDropdownContainer,"change",(function(e){var t=e.target,n=parseInt(t.value,10);g.changeMonth(n-g.currentMonth),me("onMonthChange")})),V(),e=g.monthsDropdownContainer);var a=u("cur-year",{tabindex:"-1"}),i=a.getElementsByTagName("input")[0];i.setAttribute("aria-label",g.l10n.yearAriaLabel),g.config.minDate&&i.setAttribute("min",g.config.minDate.getFullYear().toString()),g.config.maxDate&&(i.setAttribute("max",g.config.maxDate.getFullYear().toString()),i.disabled=!!g.config.minDate&&g.config.minDate.getFullYear()===g.config.maxDate.getFullYear());var o=l("div","flatpickr-current-month");return o.appendChild(e),o.appendChild(a),n.appendChild(o),t.appendChild(n),{container:t,yearElement:i,monthElement:e}}function K(){s(g.monthNav),g.monthNav.appendChild(g.prevMonthNav),g.config.showMonths&&(g.yearElements=[],g.monthElements=[]);for(var e=g.config.showMonths;e--;){var t=J();g.yearElements.push(t.yearElement),g.monthElements.push(t.monthElement),g.monthNav.appendChild(t.container)}g.monthNav.appendChild(g.nextMonthNav)}function U(){g.weekdayContainer?s(g.weekdayContainer):g.weekdayContainer=l("div","flatpickr-weekdays");for(var e=g.config.showMonths;e--;){var t=l("div","flatpickr-weekdaycontainer");g.weekdayContainer.appendChild(t)}return G(),g.weekdayContainer}function G(){if(g.weekdayContainer){var e=g.l10n.firstDayOfWeek,t=g.l10n.weekdays.shorthand.slice();e>0&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e)));for(var n=g.config.showMonths;n--;)g.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function z(e,t){void 0===t&&(t=!0);var n=t?e:e-g.currentMonth;n<0&&!0===g._hidePrevMonthArrow||n>0&&!0===g._hideNextMonthArrow||(g.currentMonth+=n,(g.currentMonth<0||g.currentMonth>11)&&(g.currentYear+=g.currentMonth>11?1:-1,g.currentMonth=(g.currentMonth+12)%12,me("onYearChange"),V()),R(),me("onMonthChange"),he())}function $(e){return!(!g.config.appendTo||!g.config.appendTo.contains(e))||g.calendarContainer.contains(e)}function Q(e){if(g.isOpen&&!g.config.inline){var t="function"==typeof(r=e).composedPath?r.composedPath()[0]:r.target,n=$(t),a=t===g.input||t===g.altInput||g.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(g.input)||~e.path.indexOf(g.altInput)),i="blur"===e.type?a&&e.relatedTarget&&!$(e.relatedTarget):!a&&!n&&!$(e.relatedTarget),o=!g.config.ignoredFocusElements.some((function(e){return e.contains(t)}));i&&o&&(void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&T(),g.close(),"range"===g.config.mode&&1===g.selectedDates.length&&(g.clear(!1),g.redraw()))}var r}function X(e){if(!(!e||g.config.minDate&&e<g.config.minDate.getFullYear()||g.config.maxDate&&e>g.config.maxDate.getFullYear())){var t=e,n=g.currentYear!==t;g.currentYear=t||g.currentYear,g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth=Math.min(g.config.maxDate.getMonth(),g.currentMonth):g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&(g.currentMonth=Math.max(g.config.minDate.getMonth(),g.currentMonth)),n&&(g.redraw(),me("onYearChange"),V())}}function Z(e,t){void 0===t&&(t=!0);var n=g.parseDate(e,void 0,t);if(g.config.minDate&&n&&y(n,g.config.minDate,void 0!==t?t:!g.minDateHasTime)<0||g.config.maxDate&&n&&y(n,g.config.maxDate,void 0!==t?t:!g.maxDateHasTime)>0)return!1;if(0===g.config.enable.length&&0===g.config.disable.length)return!0;if(void 0===n)return!1;for(var a=g.config.enable.length>0,i=a?g.config.enable:g.config.disable,o=0,r=void 0;o<i.length;o++){if("function"==typeof(r=i[o])&&r(n))return a;if(r instanceof Date&&void 0!==n&&r.getTime()===n.getTime())return a;if("string"==typeof r&&void 0!==n){var d=g.parseDate(r,void 0,!0);return d&&d.getTime()===n.getTime()?a:!a}if("object"==typeof r&&void 0!==n&&r.from&&r.to&&n.getTime()>=r.from.getTime()&&n.getTime()<=r.to.getTime())return a}return!a}function ee(e){return void 0!==g.daysContainer&&-1===e.className.indexOf("hidden")&&g.daysContainer.contains(e)}function te(e){var t=e.target===g._input,n=g.config.allowInput,a=g.isOpen&&(!n||!t),i=g.config.inline&&t&&!n;if(13===e.keyCode&&t){if(n)return g.setDate(g._input.value,!0,e.target===g.altInput?g.config.altFormat:g.config.dateFormat),e.target.blur();g.open()}else if($(e.target)||a||i){var o=!!g.timeContainer&&g.timeContainer.contains(e.target);switch(e.keyCode){case 13:o?(e.preventDefault(),T(),le()):se(e);break;case 27:e.preventDefault(),le();break;case 8:case 46:t&&!g.config.allowInput&&(e.preventDefault(),g.clear());break;case 37:case 39:if(o||t)g.hourElement&&g.hourElement.focus();else if(e.preventDefault(),void 0!==g.daysContainer&&(!1===n||document.activeElement&&ee(document.activeElement))){var r=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),z(r),B(H(1),0)):B(void 0,r)}break;case 38:case 40:e.preventDefault();var d=40===e.keyCode?1:-1;g.daysContainer&&void 0!==e.target.$i||e.target===g.input||e.target===g.altInput?e.ctrlKey?(e.stopPropagation(),X(g.currentYear-d),B(H(1),0)):o||B(void 0,7*d):e.target===g.currentYearElement?X(g.currentYear-d):g.config.enableTime&&(!o&&g.hourElement&&g.hourElement.focus(),T(e),g._debouncedChange());break;case 9:if(o){var c=[g.hourElement,g.minuteElement,g.secondElement,g.amPM].concat(g.pluginElements).filter((function(e){return e})),l=c.indexOf(e.target);if(-1!==l){var s=c[l+(e.shiftKey?-1:1)];e.preventDefault(),(s||g._input).focus()}}else!g.config.noCalendar&&g.daysContainer&&g.daysContainer.contains(e.target)&&e.shiftKey&&(e.preventDefault(),g._input.focus())}}if(void 0!==g.amPM&&e.target===g.amPM)switch(e.key){case g.l10n.amPM[0].charAt(0):case g.l10n.amPM[0].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[0],_(),ye();break;case g.l10n.amPM[1].charAt(0):case g.l10n.amPM[1].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[1],_(),ye()}(t||$(e.target))&&me("onKeyDown",e)}function ne(e){if(1===g.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled"))){for(var t=e?e.dateObj.getTime():g.days.firstElementChild.dateObj.getTime(),n=g.parseDate(g.selectedDates[0],void 0,!0).getTime(),a=Math.min(t,g.selectedDates[0].getTime()),i=Math.max(t,g.selectedDates[0].getTime()),o=!1,r=0,d=0,c=a;c<i;c+=D.DAY)Z(new Date(c),!0)||(o=o||c>a&&c<i,c<n&&(!r||c>r)?r=c:c>n&&(!d||c<d)&&(d=c));for(var l=0;l<g.config.showMonths;l++)for(var s=g.daysContainer.children[l],u=function(a,i){var c=s.children[a],l=c.dateObj.getTime(),u=r>0&&l<r||d>0&&l>d;return u?(c.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(e){c.classList.remove(e)})),"continue"):o&&!u?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(e){c.classList.remove(e)})),void(void 0!==e&&(e.classList.add(t<=g.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&l===n?c.classList.add("startRange"):n>t&&l===n&&c.classList.add("endRange"),l>=r&&(0===d||l<=d)&&w(l,n,t)&&c.classList.add("inRange"))))},f=0,p=s.children.length;f<p;f++)u(f)}}function ae(){!g.isOpen||g.config.static||g.config.inline||de()}function ie(){g.setDate(void 0!==g.config.minDate?new Date(g.config.minDate.getTime()):new Date,!0),E(),ye()}function oe(e){return function(t){var n=g.config["_"+e+"Date"]=g.parseDate(t,g.config.dateFormat),a=g.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(g["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),g.selectedDates&&(g.selectedDates=g.selectedDates.filter((function(e){return Z(e)})),g.selectedDates.length||"min"!==e||O(n),ye()),g.daysContainer&&(ce(),void 0!==n?g.currentYearElement[e]=n.getFullYear().toString():g.currentYearElement.removeAttribute(e),g.currentYearElement.disabled=!!a&&void 0!==n&&a.getFullYear()===n.getFullYear())}}function re(){"object"!=typeof g.config.locale&&void 0===M.l10ns[g.config.locale]&&g.config.errorHandler(new Error("flatpickr: invalid locale "+g.config.locale)),g.l10n=e({},M.l10ns.default,"object"==typeof g.config.locale?g.config.locale:"default"!==g.config.locale?M.l10ns[g.config.locale]:void 0),b.K="("+g.l10n.amPM[0]+"|"+g.l10n.amPM[1]+"|"+g.l10n.amPM[0].toLowerCase()+"|"+g.l10n.amPM[1].toLowerCase()+")",void 0===e({},m,JSON.parse(JSON.stringify(f.dataset||{}))).time_24hr&&void 0===M.defaultConfig.time_24hr&&(g.config.time_24hr=g.l10n.time_24hr),g.formatDate=h(g),g.parseDate=v({config:g.config,l10n:g.l10n})}function de(e){if(void 0!==g.calendarContainer){me("onPreCalendarPosition");var t=e||g._positionElement,n=Array.prototype.reduce.call(g.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),a=g.calendarContainer.offsetWidth,i=g.config.position.split(" "),o=i[0],r=i.length>1?i[1]:null,d=t.getBoundingClientRect(),l=window.innerHeight-d.bottom,s="above"===o||"below"!==o&&l<n&&d.top>n,u=window.pageYOffset+d.top+(s?-n-2:t.offsetHeight+2);if(c(g.calendarContainer,"arrowTop",!s),c(g.calendarContainer,"arrowBottom",s),!g.config.inline){var f=window.pageXOffset+d.left-(null!=r&&"center"===r?(a-d.width)/2:0),p=window.document.body.offsetWidth-(window.pageXOffset+d.right),m=f+a>window.document.body.offsetWidth,b=p+a>window.document.body.offsetWidth;if(c(g.calendarContainer,"rightMost",m),!g.config.static)if(g.calendarContainer.style.top=u+"px",m)if(b){var h=document.styleSheets[0];if(void 0===h)return;var v=window.document.body.offsetWidth,y=Math.max(0,v/2-a/2),w=h.cssRules.length,D="{left:"+d.left+"px;right:auto;}";c(g.calendarContainer,"rightMost",!1),c(g.calendarContainer,"centerMost",!0),h.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+D,w),g.calendarContainer.style.left=y+"px",g.calendarContainer.style.right="auto"}else g.calendarContainer.style.left="auto",g.calendarContainer.style.right=p+"px";else g.calendarContainer.style.left=f+"px",g.calendarContainer.style.right="auto"}}}function ce(){g.config.noCalendar||g.isMobile||(he(),R())}function le(){g._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(g.close,0):g.close()}function se(e){e.preventDefault(),e.stopPropagation();var t=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(e.target,(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,a=g.latestSelectedDateObj=new Date(n.dateObj.getTime()),i=(a.getMonth()<g.currentMonth||a.getMonth()>g.currentMonth+g.config.showMonths-1)&&"range"!==g.config.mode;if(g.selectedDateElem=n,"single"===g.config.mode)g.selectedDates=[a];else if("multiple"===g.config.mode){var o=ge(a);o?g.selectedDates.splice(parseInt(o),1):g.selectedDates.push(a)}else"range"===g.config.mode&&(2===g.selectedDates.length&&g.clear(!1,!1),g.latestSelectedDateObj=a,g.selectedDates.push(a),0!==y(a,g.selectedDates[0],!0)&&g.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(_(),i){var r=g.currentYear!==a.getFullYear();g.currentYear=a.getFullYear(),g.currentMonth=a.getMonth(),r&&(me("onYearChange"),V()),me("onMonthChange")}if(he(),R(),ye(),g.config.enableTime&&setTimeout((function(){return g.showTimeInput=!0}),50),i||"range"===g.config.mode||1!==g.config.showMonths?void 0!==g.selectedDateElem&&void 0===g.hourElement&&g.selectedDateElem&&g.selectedDateElem.focus():L(n),void 0!==g.hourElement&&void 0!==g.hourElement&&g.hourElement.focus(),g.config.closeOnSelect){var d="single"===g.config.mode&&!g.config.enableTime,c="range"===g.config.mode&&2===g.selectedDates.length&&!g.config.enableTime;(d||c)&&le()}P()}}g.parseDate=v({config:g.config,l10n:g.l10n}),g._handlers=[],g.pluginElements=[],g.loadedPlugins=[],g._bind=S,g._setHoursFromDate=O,g._positionCalendar=de,g.changeMonth=z,g.changeYear=X,g.clear=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),g.input.value="",void 0!==g.altInput&&(g.altInput.value=""),void 0!==g.mobileInput&&(g.mobileInput.value=""),g.selectedDates=[],g.latestSelectedDateObj=void 0,!0===t&&(g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth()),g.showTimeInput=!1,!0===g.config.enableTime&&E(),g.redraw(),e&&me("onChange")},g.close=function(){g.isOpen=!1,g.isMobile||(void 0!==g.calendarContainer&&g.calendarContainer.classList.remove("open"),void 0!==g._input&&g._input.classList.remove("active")),me("onClose")},g._createElement=l,g.destroy=function(){void 0!==g.config&&me("onDestroy");for(var e=g._handlers.length;e--;){var t=g._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(g._handlers=[],g.mobileInput)g.mobileInput.parentNode&&g.mobileInput.parentNode.removeChild(g.mobileInput),g.mobileInput=void 0;else if(g.calendarContainer&&g.calendarContainer.parentNode)if(g.config.static&&g.calendarContainer.parentNode){var n=g.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else g.calendarContainer.parentNode.removeChild(g.calendarContainer);g.altInput&&(g.input.type="text",g.altInput.parentNode&&g.altInput.parentNode.removeChild(g.altInput),delete g.altInput),g.input&&(g.input.type=g.input._type,g.input.classList.remove("flatpickr-input"),g.input.removeAttribute("readonly"),g.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete g[e]}catch(e){}}))},g.isEnabled=Z,g.jumpToDate=N,g.open=function(e,t){if(void 0===t&&(t=g._positionElement),!0===g.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),void 0!==g.mobileInput&&(g.mobileInput.focus(),g.mobileInput.click()),void me("onOpen");if(!g._input.disabled&&!g.config.inline){var n=g.isOpen;g.isOpen=!0,n||(g.calendarContainer.classList.add("open"),g._input.classList.add("active"),me("onOpen"),de(t)),!0===g.config.enableTime&&!0===g.config.noCalendar&&(0===g.selectedDates.length&&ie(),!1!==g.config.allowInput||void 0!==e&&g.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return g.hourElement.select()}),50))}},g.redraw=ce,g.set=function(e,n){if(null!==e&&"object"==typeof e)for(var a in Object.assign(g.config,e),e)void 0!==ue[a]&&ue[a].forEach((function(e){return e()}));else g.config[e]=n,void 0!==ue[e]?ue[e].forEach((function(e){return e()})):t.indexOf(e)>-1&&(g.config[e]=d(n));g.redraw(),ye(!1)},g.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=g.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return g.clear(t);fe(e,n),g.showTimeInput=g.selectedDates.length>0,g.latestSelectedDateObj=g.selectedDates[g.selectedDates.length-1],g.redraw(),N(),O(),0===g.selectedDates.length&&g.clear(!1),ye(t),t&&me("onChange")},g.toggle=function(e){if(!0===g.isOpen)return g.close();g.open(e)};var ue={locale:[re,G],showMonths:[K,x,U],minDate:[N],maxDate:[N]};function fe(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return g.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[g.parseDate(e,t)];else if("string"==typeof e)switch(g.config.mode){case"single":case"time":n=[g.parseDate(e,t)];break;case"multiple":n=e.split(g.config.conjunction).map((function(e){return g.parseDate(e,t)}));break;case"range":n=e.split(g.l10n.rangeSeparator).map((function(e){return g.parseDate(e,t)}))}else g.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));g.selectedDates=n.filter((function(e){return e instanceof Date&&Z(e,!1)})),"range"===g.config.mode&&g.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function pe(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?g.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:g.parseDate(e.from,void 0),to:g.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function me(e,t){if(void 0!==g.config){var n=g.config[e];if(void 0!==n&&n.length>0)for(var a=0;n[a]&&a<n.length;a++)n[a](g.selectedDates,g.input.value,g,t);"onChange"===e&&(g.input.dispatchEvent(be("change")),g.input.dispatchEvent(be("input")))}}function be(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function ge(e){for(var t=0;t<g.selectedDates.length;t++)if(0===y(g.selectedDates[t],e))return""+t;return!1}function he(){g.config.noCalendar||g.isMobile||!g.monthNav||(g.yearElements.forEach((function(e,t){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),g.config.showMonths>1||"static"===g.config.monthSelectorType?g.monthElements[t].textContent=p(n.getMonth(),g.config.shorthandCurrentMonth,g.l10n)+" ":g.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),g._hidePrevMonthArrow=void 0!==g.config.minDate&&(g.currentYear===g.config.minDate.getFullYear()?g.currentMonth<=g.config.minDate.getMonth():g.currentYear<g.config.minDate.getFullYear()),g._hideNextMonthArrow=void 0!==g.config.maxDate&&(g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth+1>g.config.maxDate.getMonth():g.currentYear>g.config.maxDate.getFullYear()))}function ve(e){return g.selectedDates.map((function(t){return g.formatDate(t,e)})).filter((function(e,t,n){return"range"!==g.config.mode||g.config.enableTime||n.indexOf(e)===t})).join("range"!==g.config.mode?g.config.conjunction:g.l10n.rangeSeparator)}function ye(e){void 0===e&&(e=!0),void 0!==g.mobileInput&&g.mobileFormatStr&&(g.mobileInput.value=void 0!==g.latestSelectedDateObj?g.formatDate(g.latestSelectedDateObj,g.mobileFormatStr):""),g.input.value=ve(g.config.dateFormat),void 0!==g.altInput&&(g.altInput.value=ve(g.config.altFormat)),!1!==e&&me("onValueUpdate")}function we(e){var t=g.prevMonthNav.contains(e.target),n=g.nextMonthNav.contains(e.target);t||n?z(t?-1:1):g.yearElements.indexOf(e.target)>=0?e.target.select():e.target.classList.contains("arrowUp")?g.changeYear(g.currentYear+1):e.target.classList.contains("arrowDown")&&g.changeYear(g.currentYear-1)}return function(){g.element=g.input=f,g.isOpen=!1,function(){var a=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],i=e({},m,JSON.parse(JSON.stringify(f.dataset||{}))),o={};g.config.parseDate=i.parseDate,g.config.formatDate=i.formatDate,Object.defineProperty(g.config,"enable",{get:function(){return g.config._enable},set:function(e){g.config._enable=pe(e)}}),Object.defineProperty(g.config,"disable",{get:function(){return g.config._disable},set:function(e){g.config._disable=pe(e)}});var r="time"===i.mode;if(!i.dateFormat&&(i.enableTime||r)){var c=M.defaultConfig.dateFormat||n.dateFormat;o.dateFormat=i.noCalendar||r?"H:i"+(i.enableSeconds?":S":""):c+" H:i"+(i.enableSeconds?":S":"")}if(i.altInput&&(i.enableTime||r)&&!i.altFormat){var l=M.defaultConfig.altFormat||n.altFormat;o.altFormat=i.noCalendar||r?"h:i"+(i.enableSeconds?":S K":" K"):l+" h:i"+(i.enableSeconds?":S":"")+" K"}i.altInputClass||(g.config.altInputClass=g.input.className+" "+g.config.altInputClass),Object.defineProperty(g.config,"minDate",{get:function(){return g.config._minDate},set:oe("min")}),Object.defineProperty(g.config,"maxDate",{get:function(){return g.config._maxDate},set:oe("max")});var s=function(e){return function(t){g.config["min"===e?"_minTime":"_maxTime"]=g.parseDate(t,"H:i:S")}};Object.defineProperty(g.config,"minTime",{get:function(){return g.config._minTime},set:s("min")}),Object.defineProperty(g.config,"maxTime",{get:function(){return g.config._maxTime},set:s("max")}),"time"===i.mode&&(g.config.noCalendar=!0,g.config.enableTime=!0),Object.assign(g.config,o,i);for(var u=0;u<a.length;u++)g.config[a[u]]=!0===g.config[a[u]]||"true"===g.config[a[u]];for(t.filter((function(e){return void 0!==g.config[e]})).forEach((function(e){g.config[e]=d(g.config[e]||[]).map(C)})),g.isMobile=!g.config.disableMobile&&!g.config.inline&&"single"===g.config.mode&&!g.config.disable.length&&!g.config.enable.length&&!g.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=0;u<g.config.plugins.length;u++){var p=g.config.plugins[u](g)||{};for(var b in p)t.indexOf(b)>-1?g.config[b]=d(p[b]).map(C).concat(g.config[b]):void 0===i[b]&&(g.config[b]=p[b])}me("onParseConfig")}(),re(),g.input=g.config.wrap?f.querySelector("[data-input]"):f,g.input?(g.input._type=g.input.type,g.input.type="text",g.input.classList.add("flatpickr-input"),g._input=g.input,g.config.altInput&&(g.altInput=l(g.input.nodeName,g.config.altInputClass),g._input=g.altInput,g.altInput.placeholder=g.input.placeholder,g.altInput.disabled=g.input.disabled,g.altInput.required=g.input.required,g.altInput.tabIndex=g.input.tabIndex,g.altInput.type="text",g.input.setAttribute("type","hidden"),!g.config.static&&g.input.parentNode&&g.input.parentNode.insertBefore(g.altInput,g.input.nextSibling)),g.config.allowInput||g._input.setAttribute("readonly","readonly"),g._positionElement=g.config.positionElement||g._input):g.config.errorHandler(new Error("Invalid input element specified")),function(){g.selectedDates=[],g.now=g.parseDate(g.config.now)||new Date;var e=g.config.defaultDate||("INPUT"!==g.input.nodeName&&"TEXTAREA"!==g.input.nodeName||!g.input.placeholder||g.input.value!==g.input.placeholder?g.input.value:null);e&&fe(e,g.config.dateFormat),g._initialDate=g.selectedDates.length>0?g.selectedDates[0]:g.config.minDate&&g.config.minDate.getTime()>g.now.getTime()?g.config.minDate:g.config.maxDate&&g.config.maxDate.getTime()<g.now.getTime()?g.config.maxDate:g.now,g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth(),g.selectedDates.length>0&&(g.latestSelectedDateObj=g.selectedDates[0]),void 0!==g.config.minTime&&(g.config.minTime=g.parseDate(g.config.minTime,"H:i")),void 0!==g.config.maxTime&&(g.config.maxTime=g.parseDate(g.config.maxTime,"H:i")),g.minDateHasTime=!!g.config.minDate&&(g.config.minDate.getHours()>0||g.config.minDate.getMinutes()>0||g.config.minDate.getSeconds()>0),g.maxDateHasTime=!!g.config.maxDate&&(g.config.maxDate.getHours()>0||g.config.maxDate.getMinutes()>0||g.config.maxDate.getSeconds()>0),Object.defineProperty(g,"showTimeInput",{get:function(){return g._showTimeInput},set:function(e){g._showTimeInput=e,g.calendarContainer&&c(g.calendarContainer,"showTimeInput",e),g.isOpen&&de()}})}(),g.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=g.currentMonth),void 0===t&&(t=g.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:g.l10n.daysInMonth[e]}},g.isMobile||function(){var e=window.document.createDocumentFragment();if(g.calendarContainer=l("div","flatpickr-calendar"),g.calendarContainer.tabIndex=-1,!g.config.noCalendar){if(e.appendChild((g.monthNav=l("div","flatpickr-months"),g.yearElements=[],g.monthElements=[],g.prevMonthNav=l("span","flatpickr-prev-month"),g.prevMonthNav.innerHTML=g.config.prevArrow,g.nextMonthNav=l("span","flatpickr-next-month"),g.nextMonthNav.innerHTML=g.config.nextArrow,K(),Object.defineProperty(g,"_hidePrevMonthArrow",{get:function(){return g.__hidePrevMonthArrow},set:function(e){g.__hidePrevMonthArrow!==e&&(c(g.prevMonthNav,"flatpickr-disabled",e),g.__hidePrevMonthArrow=e)}}),Object.defineProperty(g,"_hideNextMonthArrow",{get:function(){return g.__hideNextMonthArrow},set:function(e){g.__hideNextMonthArrow!==e&&(c(g.nextMonthNav,"flatpickr-disabled",e),g.__hideNextMonthArrow=e)}}),g.currentYearElement=g.yearElements[0],he(),g.monthNav)),g.innerContainer=l("div","flatpickr-innerContainer"),g.config.weekNumbers){var t=function(){g.calendarContainer.classList.add("hasWeeks");var e=l("div","flatpickr-weekwrapper");e.appendChild(l("span","flatpickr-weekday",g.l10n.weekAbbreviation));var t=l("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,a=t.weekNumbers;g.innerContainer.appendChild(n),g.weekNumbers=a,g.weekWrapper=n}g.rContainer=l("div","flatpickr-rContainer"),g.rContainer.appendChild(U()),g.daysContainer||(g.daysContainer=l("div","flatpickr-days"),g.daysContainer.tabIndex=-1),R(),g.rContainer.appendChild(g.daysContainer),g.innerContainer.appendChild(g.rContainer),e.appendChild(g.innerContainer)}g.config.enableTime&&e.appendChild(function(){g.calendarContainer.classList.add("hasTime"),g.config.noCalendar&&g.calendarContainer.classList.add("noCalendar"),g.timeContainer=l("div","flatpickr-time"),g.timeContainer.tabIndex=-1;var e=l("span","flatpickr-time-separator",":"),t=u("flatpickr-hour",{"aria-label":g.l10n.hourAriaLabel});g.hourElement=t.getElementsByTagName("input")[0];var n=u("flatpickr-minute",{"aria-label":g.l10n.minuteAriaLabel});if(g.minuteElement=n.getElementsByTagName("input")[0],g.hourElement.tabIndex=g.minuteElement.tabIndex=-1,g.hourElement.value=i(g.latestSelectedDateObj?g.latestSelectedDateObj.getHours():g.config.time_24hr?g.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(g.config.defaultHour)),g.minuteElement.value=i(g.latestSelectedDateObj?g.latestSelectedDateObj.getMinutes():g.config.defaultMinute),g.hourElement.setAttribute("step",g.config.hourIncrement.toString()),g.minuteElement.setAttribute("step",g.config.minuteIncrement.toString()),g.hourElement.setAttribute("min",g.config.time_24hr?"0":"1"),g.hourElement.setAttribute("max",g.config.time_24hr?"23":"12"),g.minuteElement.setAttribute("min","0"),g.minuteElement.setAttribute("max","59"),g.timeContainer.appendChild(t),g.timeContainer.appendChild(e),g.timeContainer.appendChild(n),g.config.time_24hr&&g.timeContainer.classList.add("time24hr"),g.config.enableSeconds){g.timeContainer.classList.add("hasSeconds");var a=u("flatpickr-second");g.secondElement=a.getElementsByTagName("input")[0],g.secondElement.value=i(g.latestSelectedDateObj?g.latestSelectedDateObj.getSeconds():g.config.defaultSeconds),g.secondElement.setAttribute("step",g.minuteElement.getAttribute("step")),g.secondElement.setAttribute("min","0"),g.secondElement.setAttribute("max","59"),g.timeContainer.appendChild(l("span","flatpickr-time-separator",":")),g.timeContainer.appendChild(a)}return g.config.time_24hr||(g.amPM=l("span","flatpickr-am-pm",g.l10n.amPM[o((g.latestSelectedDateObj?g.hourElement.value:g.config.defaultHour)>11)]),g.amPM.title=g.l10n.toggleTitle,g.amPM.tabIndex=-1,g.timeContainer.appendChild(g.amPM)),g.timeContainer}()),c(g.calendarContainer,"rangeMode","range"===g.config.mode),c(g.calendarContainer,"animate",!0===g.config.animate),c(g.calendarContainer,"multiMonth",g.config.showMonths>1),g.calendarContainer.appendChild(e);var r=void 0!==g.config.appendTo&&void 0!==g.config.appendTo.nodeType;if((g.config.inline||g.config.static)&&(g.calendarContainer.classList.add(g.config.inline?"inline":"static"),g.config.inline&&(!r&&g.element.parentNode?g.element.parentNode.insertBefore(g.calendarContainer,g._input.nextSibling):void 0!==g.config.appendTo&&g.config.appendTo.appendChild(g.calendarContainer)),g.config.static)){var d=l("div","flatpickr-wrapper");g.element.parentNode&&g.element.parentNode.insertBefore(d,g.element),d.appendChild(g.element),g.altInput&&d.appendChild(g.altInput),d.appendChild(g.calendarContainer)}g.config.static||g.config.inline||(void 0!==g.config.appendTo?g.config.appendTo:window.document.body).appendChild(g.calendarContainer)}(),function(){if(g.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(g.element.querySelectorAll("[data-"+e+"]"),(function(t){return S(t,"click",g[e])}))})),g.isMobile)!function(){var e=g.config.enableTime?g.config.noCalendar?"time":"datetime-local":"date";g.mobileInput=l("input",g.input.className+" flatpickr-mobile"),g.mobileInput.step=g.input.getAttribute("step")||"any",g.mobileInput.tabIndex=1,g.mobileInput.type=e,g.mobileInput.disabled=g.input.disabled,g.mobileInput.required=g.input.required,g.mobileInput.placeholder=g.input.placeholder,g.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",g.selectedDates.length>0&&(g.mobileInput.defaultValue=g.mobileInput.value=g.formatDate(g.selectedDates[0],g.mobileFormatStr)),g.config.minDate&&(g.mobileInput.min=g.formatDate(g.config.minDate,"Y-m-d")),g.config.maxDate&&(g.mobileInput.max=g.formatDate(g.config.maxDate,"Y-m-d")),g.input.type="hidden",void 0!==g.altInput&&(g.altInput.type="hidden");try{g.input.parentNode&&g.input.parentNode.insertBefore(g.mobileInput,g.input.nextSibling)}catch(e){}S(g.mobileInput,"change",(function(e){g.setDate(e.target.value,!1,g.mobileFormatStr),me("onChange"),me("onClose")}))}();else{var e=r(ae,50);g._debouncedChange=r(P,k),g.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&S(g.daysContainer,"mouseover",(function(e){"range"===g.config.mode&&ne(e.target)})),S(window.document.body,"keydown",te),g.config.inline||g.config.static||S(window,"resize",e),void 0!==window.ontouchstart?S(window.document,"touchstart",Q):S(window.document,"mousedown",F(Q)),S(window.document,"focus",Q,{capture:!0}),!0===g.config.clickOpens&&(S(g._input,"focus",g.open),S(g._input,"mousedown",F(g.open))),void 0!==g.daysContainer&&(S(g.monthNav,"mousedown",F(we)),S(g.monthNav,["keyup","increment"],I),S(g.daysContainer,"mousedown",F(se))),void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&(S(g.timeContainer,["increment"],T),S(g.timeContainer,"blur",T,{capture:!0}),S(g.timeContainer,"mousedown",F(A)),S([g.hourElement,g.minuteElement],["focus","click"],(function(e){return e.target.select()})),void 0!==g.secondElement&&S(g.secondElement,"focus",(function(){return g.secondElement&&g.secondElement.select()})),void 0!==g.amPM&&S(g.amPM,"mousedown",F((function(e){T(e),P()}))))}}(),(g.selectedDates.length||g.config.noCalendar)&&(g.config.enableTime&&O(g.config.noCalendar?g.latestSelectedDateObj||g.config.minDate:void 0),ye(!1)),x(),g.showTimeInput=g.selectedDates.length>0||g.config.noCalendar;var a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!g.isMobile&&a&&de(),me("onReady")}(),g}function x(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),a=[],i=0;i<n.length;i++){var o=n[i];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=C(o,t||{}),a.push(o._flatpickr)}catch(e){console.error(e)}}return 1===a.length?a[0]:a}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return x(this,e)},HTMLElement.prototype.flatpickr=function(e){return x([this],e)});var M=function(e,t){return"string"==typeof e?x(window.document.querySelectorAll(e),t):e instanceof Node?x([e],t):x(e,t)};return M.defaultConfig={},M.l10ns={en:e({},a),default:e({},a)},M.localize=function(t){M.l10ns.default=e({},M.l10ns.default,t)},M.setDefaults=function(t){M.defaultConfig=e({},M.defaultConfig,t)},M.parseDate=v({}),M.formatDate=h({}),M.compareDates=y,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return x(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=M),M}()}});
//# sourceMappingURL=admin.min.js.map